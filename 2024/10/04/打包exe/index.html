<!DOCTYPE HTML>
<html lang="zh-CN">


<head>
    <meta charset="utf-8">
    <meta name="keywords" content="æ‰“åŒ…exe, HL&#39;s blog">
    <meta name="description" content="èƒ½å¸®æˆ‘åšä¸€ä¸ªç²¾ç¾çš„lncRNAé‰´å®šæ’ä»¶ç•Œé¢ï¼Œç”¨pythonçš„tkinterçš„ï¼Œ
æ•´åˆçš„ç•Œé¢
æˆ‘æœ‰å‡ ä¸ªè„šæœ¬ï¼ŒStringTieåˆå¹¶è½¬å½•æœ¬ .exe2. AWKåˆæ­¥ç­›é€‰LncRNA .exe 3. Gffcompareåˆ†ç±»ç­›é€‰ .exe 4. ">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="renderer" content="webkit|ie-stand|ie-comp">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="referrer" content="no-referrer-when-downgrade">
    <!-- Global site tag (gtag.js) - Google Analytics -->


    <title>æ‰“åŒ…exe | HL&#39;s blog</title>
    <link rel="icon" type="image/png" href="/favicon.png">
    


    <!-- bg-cover style     -->



<link rel="stylesheet" type="text/css" href="/libs/awesome/css/all.min.css">
<link rel="stylesheet" type="text/css" href="/libs/materialize/materialize.min.css">
<link rel="stylesheet" type="text/css" href="/libs/aos/aos.css">
<link rel="stylesheet" type="text/css" href="/libs/animate/animate.min.css">
<link rel="stylesheet" type="text/css" href="/libs/lightGallery/css/lightgallery.min.css">
<link rel="stylesheet" type="text/css" href="/css/matery.css">
<link rel="stylesheet" type="text/css" href="/css/my.css">
<link rel="stylesheet" type="text/css" href="/css/dark.css" media="none" onload="if(media!='all')media='all'">




    <link rel="stylesheet" href="/libs/tocbot/tocbot.css">
    <link rel="stylesheet" href="/css/post.css">




    
        <link rel="stylesheet" type="text/css" href="/css/reward.css">
    



    <script src="/libs/jquery/jquery-3.6.0.min.js"></script>

<meta name="generator" content="Hexo 5.4.2"></head>


<body>
    <header class="navbar-fixed">
    <nav id="headNav" class="bg-color nav-transparent">
        <div id="navContainer" class="nav-wrapper container">
            <div class="brand-logo">
                <a href="/" class="waves-effect waves-light">
                    
                    <img src="/medias/logo.png" class="logo-img" alt="LOGO">
                    
                    <span class="logo-span">HL&#39;s blog</span>
                </a>
            </div>
            

<a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fas fa-bars"></i></a>
<ul class="right nav-menu">
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/" class="waves-effect waves-light">
      
      <i class="fas fa-home" style="zoom: 0.6;"></i>
      
      <span>é¦–é¡µ</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/tags" class="waves-effect waves-light">
      
      <i class="fas fa-tags" style="zoom: 0.6;"></i>
      
      <span>æ ‡ç­¾</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/categories" class="waves-effect waves-light">
      
      <i class="fas fa-bookmark" style="zoom: 0.6;"></i>
      
      <span>åˆ†ç±»</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/archives" class="waves-effect waves-light">
      
      <i class="fas fa-archive" style="zoom: 0.6;"></i>
      
      <span>å½’æ¡£</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/about" class="waves-effect waves-light">
      
      <i class="fas fa-user-circle" style="zoom: 0.6;"></i>
      
      <span>å…³äº</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/contact" class="waves-effect waves-light">
      
      <i class="fas fa-comments" style="zoom: 0.6;"></i>
      
      <span>ç•™è¨€æ¿</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/friends" class="waves-effect waves-light">
      
      <i class="fas fa-address-book" style="zoom: 0.6;"></i>
      
      <span>å‹æƒ…é“¾æ¥</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="" class="waves-effect waves-light">

      
      <i class="fas fa-tools" style="zoom: 0.6;"></i>
      
      <span>æœ‰è¶£å·¥å…·</span>
      <i class="fas fa-chevron-down" aria-hidden="true" style="zoom: 0.6;"></i>
    </a>
    <ul class="sub-nav menus_item_child ">
      
      <li>
        <a href="/html/%E9%9A%8F%E6%9C%BA%E8%BD%AE%E7%9B%98.html">
          
          <i class="fas fa-random" style="margin-top: -20px; zoom: 0.6;"></i>
          
          <span>éšæœºè½®ç›˜</span>
        </a>
      </li>
      
      <li>
        <a href="/html/%E4%B8%8D%E8%A6%81%E7%86%AC%E5%A4%9C.html">
          
          <i class="fas fa-moon" style="margin-top: -20px; zoom: 0.6;"></i>
          
          <span>ä¸è¦ç†¬å¤œ</span>
        </a>
      </li>
      
      <li>
        <a href="/html/%E4%BF%9D%E6%8A%A4%E7%9C%BC%E7%9D%9B.html">
          
          <i class="fas fa-eye" style="margin-top: -20px; zoom: 0.6;"></i>
          
          <span>ä¿æŠ¤çœ¼ç›</span>
        </a>
      </li>
      
      <li>
        <a href="/html/%E5%A4%AA%E9%98%B3.html">
          
          <i class="fas fa-sun" style="margin-top: -20px; zoom: 0.6;"></i>
          
          <span>å¤ªé˜³</span>
        </a>
      </li>
      
      <li>
        <a href="/html/%E6%96%87%E5%AD%97%E8%BD%AC%E8%AF%AD%E8%A8%80.html">
          
          <i class="fas fa-volume-up" style="margin-top: -20px; zoom: 0.6;"></i>
          
          <span>æ–‡å­—è½¬è¯­è¨€</span>
        </a>
      </li>
      
      <li>
        <a href="/html/tnt%E5%BC%B9%E9%81%93%E8%BE%85%E5%8A%A9.html">
          
          <i class="fas fa-crosshairs" style="margin-top: -20px; zoom: 0.6;"></i>
          
          <span>tntå¼¹é“è¾…åŠ©</span>
        </a>
      </li>
      
      <li>
        <a href="/html/%E5%AE%8C%E4%B8%8D%E6%88%90%E7%9A%84%E6%AF%8F%E6%97%A5%E4%BB%BB%E5%8A%A1.html">
          
          <i class="fas fa-tasks" style="margin-top: -20px; zoom: 0.6;"></i>
          
          <span>å®Œä¸æˆçš„æ¯æ—¥ä»»åŠ¡</span>
        </a>
      </li>
      
      <li>
        <a href="/html/%E5%AD%A6%E4%B9%A0.html">
          
          <i class="fas fa-book" style="margin-top: -20px; zoom: 0.6;"></i>
          
          <span>å­¦ä¹ </span>
        </a>
      </li>
      
      <li>
        <a href="/html/%E8%87%AA%E5%BE%8B%E6%9C%AC.html">
          
          <i class="fas fa-check-square" style="margin-top: -20px; zoom: 0.6;"></i>
          
          <span>è‡ªå¾‹æœ¬</span>
        </a>
      </li>
      
      <li>
        <a href="/html/%E8%87%AA%E5%BE%8B%E8%AF%BE%E8%A1%A8.html">
          
          <i class="fas fa-calendar-alt" style="margin-top: -20px; zoom: 0.6;"></i>
          
          <span>è‡ªå¾‹è¯¾è¡¨</span>
        </a>
      </li>
      
      <li>
        <a href="/html/%E9%9F%B3%E4%B9%90.html">
          
          <i class="fas fa-music" style="margin-top: -20px; zoom: 0.6;"></i>
          
          <span>éŸ³ä¹</span>
        </a>
      </li>
      
      <li>
        <a href="/html/word.html">
          
          <i class="fas fa-file-word" style="margin-top: -20px; zoom: 0.6;"></i>
          
          <span>Wordæ–‡ä»¶</span>
        </a>
      </li>
      
      <li>
        <a href="/html/%E4%BB%BB%E5%8A%A1%E5%88%86%E5%8C%96.html">
          
          <i class="fas fa-file-word" style="margin-top: -20px; zoom: 0.6;"></i>
          
          <span>ä»»åŠ¡åˆ†åŒ–</span>
        </a>
      </li>
      
    </ul>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="" class="waves-effect waves-light">

      
      <i class="fas fa-book-open" style="zoom: 0.6;"></i>
      
      <span>æ—¥è®°</span>
      <i class="fas fa-chevron-down" aria-hidden="true" style="zoom: 0.6;"></i>
    </a>
    <ul class="sub-nav menus_item_child ">
      
      <li>
        <a href="/diaries/travel">
          
          <i class="fas fa-plane" style="margin-top: -20px; zoom: 0.6;"></i>
          
          <span>æˆ‘çš„æ—…è¡Œæ—¥è®°</span>
        </a>
      </li>
      
      <li>
        <a href="/diaries/daily">
          
          <i class="fas fa-home" style="margin-top: -20px; zoom: 0.6;"></i>
          
          <span>æ—¥å¸¸ç”Ÿæ´»</span>
        </a>
      </li>
      
    </ul>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="" class="waves-effect waves-light">

      
      <i class="fas fa-file-word" style="zoom: 0.6;"></i>
      
      <span>wordæ•™ç¨‹</span>
      <i class="fas fa-chevron-down" aria-hidden="true" style="zoom: 0.6;"></i>
    </a>
    <ul class="sub-nav menus_item_child ">
      
      <li>
        <a href="/word-tutorials/basics">
          
          <i class="fas fa-graduation-cap" style="margin-top: -20px; zoom: 0.6;"></i>
          
          <span>åŸºç¡€æ•™ç¨‹</span>
        </a>
      </li>
      
      <li>
        <a href="/word-tutorials/advanced">
          
          <i class="fas fa-user-graduate" style="margin-top: -20px; zoom: 0.6;"></i>
          
          <span>é«˜çº§æŠ€å·§</span>
        </a>
      </li>
      
    </ul>
    
  </li>
  
  <li>
    <a href="#searchModal" class="modal-trigger waves-effect waves-light">
      <i id="searchIcon" class="fas fa-search" title="æœç´¢" style="zoom: 0.85;"></i>
    </a>
  </li>
  <li>
    <a href="javascript:;" class="waves-effect waves-light" onclick="switchNightMode()" title="æ·±è‰²/æµ…è‰²æ¨¡å¼" >
      <i id="sum-moon-icon" class="fas fa-sun" style="zoom: 0.85;"></i>
    </a>
  </li>
</ul>


<div id="mobile-nav" class="side-nav sidenav">

    <div class="mobile-head bg-color">
        
        <img src="/medias/logo.png" class="logo-img circle responsive-img">
        
        <div class="logo-name">HL&#39;s blog</div>
        <div class="logo-desc">
            
            Never really desperate, only the lost of the soul.
            
        </div>
    </div>

    <ul class="menu-list mobile-menu-list">
        
        <li class="m-nav-item">
	  
		<a href="/" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-home"></i>
			
			é¦–é¡µ
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/tags" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-tags"></i>
			
			æ ‡ç­¾
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/categories" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-bookmark"></i>
			
			åˆ†ç±»
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/archives" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-archive"></i>
			
			å½’æ¡£
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/about" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-user-circle"></i>
			
			å…³äº
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/contact" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-comments"></i>
			
			ç•™è¨€æ¿
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/friends" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-address-book"></i>
			
			å‹æƒ…é“¾æ¥
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="javascript:;">
			
				<i class="fa-fw fas fa-tools"></i>
			
			æœ‰è¶£å·¥å…·
			<span class="m-icon"><i class="fas fa-chevron-right"></i></span>
		</a>
            <ul  style="background:  ;" >
              
                <li>

                  <a href="/html/%E9%9A%8F%E6%9C%BA%E8%BD%AE%E7%9B%98.html " style="margin-left:75px">
				  
				   <i class="fa fas fa-random" style="position: absolute;left:50px" ></i>
			      
		          <span>éšæœºè½®ç›˜</span>
                  </a>
                </li>
              
                <li>

                  <a href="/html/%E4%B8%8D%E8%A6%81%E7%86%AC%E5%A4%9C.html " style="margin-left:75px">
				  
				   <i class="fa fas fa-moon" style="position: absolute;left:50px" ></i>
			      
		          <span>ä¸è¦ç†¬å¤œ</span>
                  </a>
                </li>
              
                <li>

                  <a href="/html/%E4%BF%9D%E6%8A%A4%E7%9C%BC%E7%9D%9B.html " style="margin-left:75px">
				  
				   <i class="fa fas fa-eye" style="position: absolute;left:50px" ></i>
			      
		          <span>ä¿æŠ¤çœ¼ç›</span>
                  </a>
                </li>
              
                <li>

                  <a href="/html/%E5%A4%AA%E9%98%B3.html " style="margin-left:75px">
				  
				   <i class="fa fas fa-sun" style="position: absolute;left:50px" ></i>
			      
		          <span>å¤ªé˜³</span>
                  </a>
                </li>
              
                <li>

                  <a href="/html/%E6%96%87%E5%AD%97%E8%BD%AC%E8%AF%AD%E8%A8%80.html " style="margin-left:75px">
				  
				   <i class="fa fas fa-volume-up" style="position: absolute;left:50px" ></i>
			      
		          <span>æ–‡å­—è½¬è¯­è¨€</span>
                  </a>
                </li>
              
                <li>

                  <a href="/html/tnt%E5%BC%B9%E9%81%93%E8%BE%85%E5%8A%A9.html " style="margin-left:75px">
				  
				   <i class="fa fas fa-crosshairs" style="position: absolute;left:50px" ></i>
			      
		          <span>tntå¼¹é“è¾…åŠ©</span>
                  </a>
                </li>
              
                <li>

                  <a href="/html/%E5%AE%8C%E4%B8%8D%E6%88%90%E7%9A%84%E6%AF%8F%E6%97%A5%E4%BB%BB%E5%8A%A1.html " style="margin-left:75px">
				  
				   <i class="fa fas fa-tasks" style="position: absolute;left:50px" ></i>
			      
		          <span>å®Œä¸æˆçš„æ¯æ—¥ä»»åŠ¡</span>
                  </a>
                </li>
              
                <li>

                  <a href="/html/%E5%AD%A6%E4%B9%A0.html " style="margin-left:75px">
				  
				   <i class="fa fas fa-book" style="position: absolute;left:50px" ></i>
			      
		          <span>å­¦ä¹ </span>
                  </a>
                </li>
              
                <li>

                  <a href="/html/%E8%87%AA%E5%BE%8B%E6%9C%AC.html " style="margin-left:75px">
				  
				   <i class="fa fas fa-check-square" style="position: absolute;left:50px" ></i>
			      
		          <span>è‡ªå¾‹æœ¬</span>
                  </a>
                </li>
              
                <li>

                  <a href="/html/%E8%87%AA%E5%BE%8B%E8%AF%BE%E8%A1%A8.html " style="margin-left:75px">
				  
				   <i class="fa fas fa-calendar-alt" style="position: absolute;left:50px" ></i>
			      
		          <span>è‡ªå¾‹è¯¾è¡¨</span>
                  </a>
                </li>
              
                <li>

                  <a href="/html/%E9%9F%B3%E4%B9%90.html " style="margin-left:75px">
				  
				   <i class="fa fas fa-music" style="position: absolute;left:50px" ></i>
			      
		          <span>éŸ³ä¹</span>
                  </a>
                </li>
              
                <li>

                  <a href="/html/word.html " style="margin-left:75px">
				  
				   <i class="fa fas fa-file-word" style="position: absolute;left:50px" ></i>
			      
		          <span>Wordæ–‡ä»¶</span>
                  </a>
                </li>
              
                <li>

                  <a href="/html/%E4%BB%BB%E5%8A%A1%E5%88%86%E5%8C%96.html " style="margin-left:75px">
				  
				   <i class="fa fas fa-file-word" style="position: absolute;left:50px" ></i>
			      
		          <span>ä»»åŠ¡åˆ†åŒ–</span>
                  </a>
                </li>
              
            </ul>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="javascript:;">
			
				<i class="fa-fw fas fa-book-open"></i>
			
			æ—¥è®°
			<span class="m-icon"><i class="fas fa-chevron-right"></i></span>
		</a>
            <ul  style="background:  ;" >
              
                <li>

                  <a href="/diaries/travel " style="margin-left:75px">
				  
				   <i class="fa fas fa-plane" style="position: absolute;left:50px" ></i>
			      
		          <span>æˆ‘çš„æ—…è¡Œæ—¥è®°</span>
                  </a>
                </li>
              
                <li>

                  <a href="/diaries/daily " style="margin-left:75px">
				  
				   <i class="fa fas fa-home" style="position: absolute;left:50px" ></i>
			      
		          <span>æ—¥å¸¸ç”Ÿæ´»</span>
                  </a>
                </li>
              
            </ul>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="javascript:;">
			
				<i class="fa-fw fas fa-file-word"></i>
			
			wordæ•™ç¨‹
			<span class="m-icon"><i class="fas fa-chevron-right"></i></span>
		</a>
            <ul  style="background:  ;" >
              
                <li>

                  <a href="/word-tutorials/basics " style="margin-left:75px">
				  
				   <i class="fa fas fa-graduation-cap" style="position: absolute;left:50px" ></i>
			      
		          <span>åŸºç¡€æ•™ç¨‹</span>
                  </a>
                </li>
              
                <li>

                  <a href="/word-tutorials/advanced " style="margin-left:75px">
				  
				   <i class="fa fas fa-user-graduate" style="position: absolute;left:50px" ></i>
			      
		          <span>é«˜çº§æŠ€å·§</span>
                  </a>
                </li>
              
            </ul>
          
        </li>
        
        
        <li><div class="divider"></div></li>
        <li>
            <a href="https://github.com/blinkfox/hexo-theme-matery" class="waves-effect waves-light" target="_blank">
                <i class="fab fa-github-square fa-fw"></i>Fork Me
            </a>
        </li>
        
    </ul>
</div>


        </div>

        
            <style>
    .nav-transparent .github-corner {
        display: none !important;
    }

    .github-corner {
        position: absolute;
        z-index: 10;
        top: 0;
        right: 0;
        border: 0;
        transform: scale(1.1);
    }

    .github-corner svg {
        color: #0f9d58;
        fill: #fff;
        height: 64px;
        width: 64px;
    }

    .github-corner:hover .octo-arm {
        animation: a 0.56s ease-in-out;
    }

    .github-corner .octo-arm {
        animation: none;
    }

    @keyframes a {
        0%,
        to {
            transform: rotate(0);
        }
        20%,
        60% {
            transform: rotate(-25deg);
        }
        40%,
        80% {
            transform: rotate(10deg);
        }
    }
</style>

<a href="https://github.com/blinkfox/hexo-theme-matery" class="github-corner tooltipped hide-on-med-and-down" target="_blank"
   data-tooltip="Fork Me" data-position="left" data-delay="50">
    <svg viewBox="0 0 250 250" aria-hidden="true">
        <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
        <path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2"
              fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path>
        <path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z"
              fill="currentColor" class="octo-body"></path>
    </svg>
</a>
        
    </nav>

</header>

    
<script src="/libs/cryptojs/crypto-js.min.js"></script>
<script>
    (function() {
        let pwd = '';
        if (pwd && pwd.length > 0) {
            if (pwd !== CryptoJS.SHA256(prompt('è¯·è¾“å…¥è®¿é—®æœ¬æ–‡ç« çš„å¯†ç ')).toString(CryptoJS.enc.Hex)) {
                alert('å¯†ç é”™è¯¯ï¼Œå°†è¿”å›ä¸»é¡µï¼');
                location.href = '/';
            }
        }
    })();
</script>




<div class="bg-cover pd-header post-cover" style="background-image: url('/medias/featureimages/0.jpg')">
    <div class="container" style="right: 0px;left: 0px;">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="brand">
                    <h1 class="description center-align post-title">æ‰“åŒ…exe</h1>
                </div>
            </div>
        </div>
    </div>
</div>




<main class="post-container content">

    
    <div class="row">
    <div id="main-content" class="col s12 m12 l9">
        <!-- æ–‡ç« å†…å®¹è¯¦æƒ… -->
<div id="artDetail">
    <div class="card">
        <div class="card-content article-info">
            <div class="row tag-cate">
                <div class="col s7">
                    
                          <div class="article-tag">
                            <span class="chip bg-color">æ— æ ‡ç­¾</span>
                          </div>
                    
                </div>
                <div class="col s5 right-align">
                    
                </div>
            </div>

            <div class="post-info">
                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-minus fa-fw"></i>å‘å¸ƒæ—¥æœŸ:&nbsp;&nbsp;
                    2024-10-04
                </div>
                

                

                

                

                
            </div>
        </div>
        <hr class="clearfix">

        

        

        <div class="card-content article-card-content">
            <div id="articleContent">
                <p>èƒ½å¸®æˆ‘åšä¸€ä¸ªç²¾ç¾çš„lncRNAé‰´å®šæ’ä»¶ç•Œé¢ï¼Œç”¨pythonçš„tkinterçš„ï¼Œ</p>
<p>æ•´åˆçš„ç•Œé¢</p>
<p>æˆ‘æœ‰å‡ ä¸ªè„šæœ¬ï¼Œ<br>StringTieåˆå¹¶è½¬å½•æœ¬ .exe2. AWKåˆæ­¥ç­›é€‰LncRNA .exe 3. Gffcompareåˆ†ç±»ç­›é€‰ .exe 4. GFFreadåºåˆ—æå– .exe 5. CPC2ç¼–ç æ½œèƒ½é¢„æµ‹  .exe6. CNCIç¼–ç æ½œèƒ½åˆ†æ .exe 7. PLEK2ç¼–ç èƒ½åŠ›è¯„ä¼° .exe ç­‰ç­‰</p>
<p>æˆ‘ä¼šæŠŠè¿™äº›.exeçš„è„šæœ¬è¿™ä¸ªè„šæœ¬ä¸‹é¢åä¸ºexeçš„æ–‡ä»¶å¤¹é‡Œ</p>
<p>ç„¶åç‚¹å‡»æŸä¸ªæ’ä»¶ï¼Œå°±èƒ½æ‰§è¡Œ</p>
<p>ç»™æˆ‘ç²¾ç®€çš„ä»£ç </p>
<p>â€œC:\Users\aoao\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.13_qbz5n2kfra8p0\LocalCache\Local-Packages\Python313\Scripts\pyinstaller.exeâ€ â€“onefile â€“windowed â€“add-data â€œplek2-main;plek2-mainâ€ plek-test-5.py</p>
<p>å¤šä¸ªæ–‡ä»¶<br>â€œC:\Users\aoao\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.13_qbz5n2kfra8p0\LocalCache\Local-Packages\Python313\Scripts\pyinstaller.exeâ€ â€“windowed â€“add-data â€œstringtie-master;stringtie-masterâ€ stringtie.merge_mstrg.py</p>
<p>å•ä¸ªæ–‡ä»¶<br>pyinstaller.exe â€“onefile â€“windowed â€“add-data â€œstringtie-master;stringtie-masterâ€ stringtie.merge_mstrg.py</p>
<p>â€œC:\Users\aoao\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.13_qbz5n2kfra8p0\LocalCache\Local-Packages\Python313\Scripts\pyinstaller.exeâ€ â€“onefile â€“windowed â€“add-data â€œstringtie-master;stringtie-masterâ€ stringtie.merge_mstrg.py</p>
<p>æˆ‘æœ‰ä¸€ä¸ªplink.exeï¼Œæ‰§è¡Œä»¥åè¿™æ ·çš„</p>
<p>å›¾1</p>
<p>C:\Users\1\AppData\Roaming\Python\Python38\Scripts\pyinstaller â€“onefile â€“windowed plink_gui.py</p>
<p>C:\Users\1\AppData\Roaming\Python\Python38\Scripts\pyinstaller â€“windowed â€“add-data â€œsratoolkit.3.0.10-win64;sratoolkit.3.0.10-win64â€ prefetch.py</p>
<p>pyinstaller â€“onefile â€“add-data â€œsratoolkit.3.0.10-win64;sratoolkit.3.0.10-win64â€ prefetch.py</p>
<p>F:\zhen_exe\1_fastq-count&gt;C:\Users\1\AppData\Roaming\Python\Python38\Scripts\pyinstaller â€“onefile â€“add-data â€œsratoolkit.3.0.10-win64;sratoolkit.3.0.10-win64â€ fastq-count.py</p>
<h1 id="å¤§æ¦‚æ€è·¯"><a href="#å¤§æ¦‚æ€è·¯" class="headerlink" title="å¤§æ¦‚æ€è·¯"></a>å¤§æ¦‚æ€è·¯</h1><h1 id="ä¼˜åŒ–æ€è·¯"><a href="#ä¼˜åŒ–æ€è·¯" class="headerlink" title="ä¼˜åŒ–æ€è·¯"></a>ä¼˜åŒ–æ€è·¯</h1><p>è¿™ä¸ªtkinterä»£ç ï¼Œç”¨çš„æ˜¯ç»å¯¹è·¯å¾„</p>
<p>æˆ‘æƒ³ä½¿ç”¨ç›¸å¯¹è·¯å¾„ï¼Œæˆ‘ä¼šæŠŠè¿™ä¸ªä»£ç å‘½åä¸ºprefetch.pyï¼Œç„¶åæ”¾åœ¨sratoolkit.3.0.10-win64æ–‡ä»¶å¤¹åŒä¸€è·¯å¾„ä¸‹ï¼Œç„¶åsratoolkit.3.0.10-win64è·¯å¾„ä¸‹æœ‰binæ–‡ä»¶å¤¹ï¼Œbinæ–‡ä»¶å¤¹ä¸‹æœ‰prefetch.exeè½¯ä»¶</p>
<p>æœ€åæˆ‘æƒ³æ‰§è¡Œpyinstaller â€“onefile â€“add-data â€œsratoolkit.3.0.10-win64;sratoolkit.3.0.10-win64â€ prefetch.py<br>æ‰“åŒ…</p>
<p>è¯·ä»”ç»†ç»™æˆ‘ä»£ç ï¼Œç¡®ä¿æˆ‘å¯ä»¥ç”¨ç›¸å¯¹è·¯å¾„æ­£ç¡®æ‰§è¡Œä»£ç </p>
<p>ç»“æ„<br>ğŸ“ your_project/<br>    â”œâ”€ prefetch.py          â† è¿™é‡Œ<br>    â””â”€ sratoolkit.3.0.10-win64/<br>         â””â”€ bin/<br>             â””â”€ prefetch.exe</p>
<h1 id="æœ€ç»ˆä»£ç "><a href="#æœ€ç»ˆä»£ç " class="headerlink" title="æœ€ç»ˆä»£ç "></a>æœ€ç»ˆä»£ç </h1><p>import os<br>import sys<br>import subprocess<br>import tkinter as tk<br>from tkinter import messagebox, filedialog</p>
<h1 id="â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€“"><a href="#â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€“" class="headerlink" title="â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€“"></a>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€“</h1><h1 id="èµ„æºè·¯å¾„å·¥å…·ï¼šå¼€å‘æ—¶ç”¨è„šæœ¬æ‰€åœ¨ç›®å½•ï¼Œæ‰“åŒ…åç”¨-sys-MEIPASS"><a href="#èµ„æºè·¯å¾„å·¥å…·ï¼šå¼€å‘æ—¶ç”¨è„šæœ¬æ‰€åœ¨ç›®å½•ï¼Œæ‰“åŒ…åç”¨-sys-MEIPASS" class="headerlink" title="èµ„æºè·¯å¾„å·¥å…·ï¼šå¼€å‘æ—¶ç”¨è„šæœ¬æ‰€åœ¨ç›®å½•ï¼Œæ‰“åŒ…åç”¨ sys._MEIPASS"></a>èµ„æºè·¯å¾„å·¥å…·ï¼šå¼€å‘æ—¶ç”¨è„šæœ¬æ‰€åœ¨ç›®å½•ï¼Œæ‰“åŒ…åç”¨ sys._MEIPASS</h1><h1 id="â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€“-1"><a href="#â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€“-1" class="headerlink" title="â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€“"></a>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€“</h1><p>def resource_path(*relative_parts: str) -&gt; str:<br>    â€œâ€â€<br>    è¿”å›èµ„æºçš„ç»å¯¹è·¯å¾„ï¼ˆå…¼å®¹ PyInstaller æ‰“åŒ…å’Œæºç è¿è¡Œï¼‰<br>    ç”¨æ³•ç¤ºä¾‹ï¼š<br>        resource_path(â€œsratoolkit.3.0.10-win64â€, â€œbinâ€, â€œprefetch.exeâ€)<br>    â€œâ€â€<br>    if hasattr(sys, â€œ_MEIPASSâ€):          # PyInstaller æ‰“åŒ…å<br>        base_path = sys._MEIPASS          # type: ignore[attr-defined]<br>    else:                                 # ç›´æ¥è¿è¡Œ .py æ—¶<br>        base_path = os.path.dirname(os.path.abspath(<strong>file</strong>))<br>    return os.path.join(base_path, *relative_parts)</p>
<h1 id="â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€“-2"><a href="#â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€“-2" class="headerlink" title="â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€“"></a>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€“</h1><h1 id="prefetch-exe-çš„å®Œæ•´è·¯å¾„ï¼ˆç›¸å¯¹è·¯å¾„-âœ-ç»å¯¹è·¯å¾„ï¼‰"><a href="#prefetch-exe-çš„å®Œæ•´è·¯å¾„ï¼ˆç›¸å¯¹è·¯å¾„-âœ-ç»å¯¹è·¯å¾„ï¼‰" class="headerlink" title="prefetch.exe çš„å®Œæ•´è·¯å¾„ï¼ˆç›¸å¯¹è·¯å¾„ âœ ç»å¯¹è·¯å¾„ï¼‰"></a>prefetch.exe çš„å®Œæ•´è·¯å¾„ï¼ˆç›¸å¯¹è·¯å¾„ âœ ç»å¯¹è·¯å¾„ï¼‰</h1><h1 id="â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€“-3"><a href="#â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€“-3" class="headerlink" title="â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€“"></a>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€“</h1><p>prefetch_path = resource_path(<br>    â€œsratoolkit.3.0.10-win64â€, â€œbinâ€, â€œprefetch.exeâ€<br>)</p>
<h1 id="â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€“-4"><a href="#â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€“-4" class="headerlink" title="â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€“"></a>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€“</h1><h1 id="Tkinter-UI"><a href="#Tkinter-UI" class="headerlink" title="Tkinter UI"></a>Tkinter UI</h1><h1 id="â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€“-5"><a href="#â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€“-5" class="headerlink" title="â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€“"></a>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€“</h1><p>root = tk.Tk()<br>root.title(â€œPrefetch SRR Downloaderâ€)<br>root.geometry(â€œ460x280â€)</p>
<h1 id="â€”â€”-è¾“å…¥-SRR-ç¼–å·-â€”â€”"><a href="#â€”â€”-è¾“å…¥-SRR-ç¼–å·-â€”â€”" class="headerlink" title="â€”â€” è¾“å…¥ SRR ç¼–å· â€”â€”"></a>â€”â€” è¾“å…¥ SRR ç¼–å· â€”â€”</h1><p>tk.Label(root, text=â€è¯·è¾“å…¥è¦ä¸‹è½½çš„ SRR ç¼–å·ï¼ˆç©ºæ ¼åˆ†éš”ï¼‰ï¼šâ€).pack(pady=8)<br>srr_input = tk.Entry(root, width=60)<br>srr_input.pack()</p>
<h1 id="â€”â€”-é€‰æ‹©è¾“å‡ºç›®å½•-â€”â€”"><a href="#â€”â€”-é€‰æ‹©è¾“å‡ºç›®å½•-â€”â€”" class="headerlink" title="â€”â€” é€‰æ‹©è¾“å‡ºç›®å½• â€”â€”"></a>â€”â€” é€‰æ‹©è¾“å‡ºç›®å½• â€”â€”</h1><p>tk.Label(root, text=â€é€‰æ‹©è¾“å‡ºæ–‡ä»¶å¤¹ï¼šâ€).pack(pady=8)<br>output_dir_input = tk.Entry(root, width=60)<br>output_dir_input.pack()</p>
<p>def browse_folder() -&gt; None:<br>    â€œâ€â€æµè§ˆé€‰æ‹©è¾“å‡ºæ–‡ä»¶å¤¹â€â€â€<br>    folder = filedialog.askdirectory()<br>    if folder:<br>        output_dir_input.delete(0, tk.END)<br>        output_dir_input.insert(0, folder)</p>
<p>tk.Button(root, text=â€æµè§ˆâ€¦â€, command=browse_folder).pack(pady=4)</p>
<p>def download_srr() -&gt; None:<br>    â€œâ€â€æ‰§è¡Œ prefetch ä¸‹è½½â€â€â€<br>    srr_files = srr_input.get().strip()<br>    output_dir = output_dir_input.get().strip()</p>
<pre><code>if not srr_files:
    messagebox.showwarning(&quot;è­¦å‘Š&quot;, &quot;è¯·è¾“å…¥è‡³å°‘ä¸€ä¸ª SRR ç¼–å·ï¼&quot;)
    return
if not output_dir:
    messagebox.showwarning(&quot;è­¦å‘Š&quot;, &quot;è¯·é€‰æ‹©è¾“å‡ºæ–‡ä»¶å¤¹ï¼&quot;)
    return

# å°† â€œSRR123 SRR456â€ â†’ [&quot;SRR123&quot;, &quot;SRR456&quot;]
srr_list = srr_files.split()

# æ„å»ºå‘½ä»¤åˆ—è¡¨ï¼Œé¿å…æ‰‹åŠ¨æ‹¼å­—ç¬¦ä¸²å¸¦æ¥çš„è½¬ä¹‰é—®é¢˜
cmd = [prefetch_path, *srr_list, &quot;--output-directory&quot;, output_dir]

try:
    result = subprocess.run(cmd, check=False)
    if result.returncode == 0:
        messagebox.showinfo(&quot;å®Œæˆ&quot;, &quot;æ–‡ä»¶ä¸‹è½½æˆåŠŸï¼&quot;)
    else:
        messagebox.showerror(&quot;é”™è¯¯&quot;, &quot;ä¸‹è½½å¤±è´¥ï¼Œè¯·æ£€æŸ¥ SRR ç¼–å·ã€‚&quot;)
except Exception as e:
    messagebox.showerror(&quot;é”™è¯¯&quot;, f&quot;æ‰§è¡Œå‘½ä»¤æ—¶å‡ºé”™ï¼š&#123;e&#125;&quot;)
</code></pre>
<p>tk.Button(root, text=â€å¼€å§‹ä¸‹è½½â€, command=download_srr).pack(pady=18)</p>
<p>if <strong>name</strong> == â€œ<strong>main</strong>â€œ:<br>    root.mainloop()</p>
<p>è¦å°†PLINKæ‰“åŒ…æˆä¸€ä¸ªå¸¦æœ‰å›¾å½¢ç”¨æˆ·ç•Œé¢ï¼ˆGUIï¼‰çš„å¯è§†åŒ–è½¯ä»¶ï¼Œä»¥ä¸‹æ˜¯ä¸€ä¸ªé€æ­¥çš„æŒ‡å—æ¥å¸®åŠ©ä½ æ„å»ºè¿™ä¸ªé¡¹ç›®ã€‚æ•´ä¸ªæµç¨‹åŒ…æ‹¬æ„å»ºä¸€ä¸ªå›¾å½¢ç•Œé¢æ¥åŒ…è£…PLINKçš„å‘½ä»¤è¡Œå·¥å…·ï¼Œè®©ç”¨æˆ·å¯ä»¥é€šè¿‡æŒ‰é’®å’Œæ–‡æœ¬æ¡†è½»æ¾åœ°æ‰§è¡ŒPLINKå‘½ä»¤ã€‚</p>
<h3 id="1-é€‰æ‹©ç¼–ç¨‹è¯­è¨€å’Œå·¥å…·"><a href="#1-é€‰æ‹©ç¼–ç¨‹è¯­è¨€å’Œå·¥å…·" class="headerlink" title="1. é€‰æ‹©ç¼–ç¨‹è¯­è¨€å’Œå·¥å…·"></a>1. <strong>é€‰æ‹©ç¼–ç¨‹è¯­è¨€å’Œå·¥å…·</strong></h3><p>ä¸ºäº†åˆ›å»ºä¸€ä¸ªGUIå·¥å…·ï¼Œä»¥ä¸‹æ˜¯å¸¸è§çš„é€‰æ‹©ï¼š</p>
<ul>
<li><strong>Python + Tkinter</strong>ï¼šç®€å•æ˜“ç”¨ï¼Œå¯ä»¥å¿«é€Ÿå¼€å‘æ¡Œé¢åº”ç”¨ç¨‹åºã€‚</li>
<li><strong>Python + PyQt/Qt</strong>ï¼šåŠŸèƒ½æ›´å¼ºå¤§ï¼Œç•Œé¢æ›´åŠ ç¾è§‚å’Œçµæ´»ï¼Œä½†å­¦ä¹ æ›²çº¿ç¨é«˜ã€‚</li>
<li><strong>C# + Windows Forms / WPF</strong>ï¼šå¦‚æœä½ ç†Ÿæ‚‰C#å’ŒWindowså¹³å°ï¼Œè¿™ä¹Ÿæ˜¯ä¸€ä¸ªä¸é”™çš„é€‰æ‹©ï¼Œé€‚åˆå¼€å‘Windowsä¸“å±çš„æ¡Œé¢åº”ç”¨ç¨‹åºã€‚</li>
<li><strong>Java + JavaFX</strong>ï¼šè·¨å¹³å°è§£å†³æ–¹æ¡ˆï¼Œé€‚åˆæœ‰Javaå¼€å‘ç»éªŒçš„å¼€å‘è€…ã€‚</li>
</ul>
<p>è¿™é‡Œæˆ‘ä»¬ä»¥<strong>Python + Tkinter</strong>ä¸ºä¾‹ï¼Œä»‹ç»å¦‚ä½•å¼€å‘è¿™ä¸ªè½¯ä»¶ã€‚</p>
<h3 id="2-è®¾ç½®Pythonå¼€å‘ç¯å¢ƒ"><a href="#2-è®¾ç½®Pythonå¼€å‘ç¯å¢ƒ" class="headerlink" title="2. è®¾ç½®Pythonå¼€å‘ç¯å¢ƒ"></a>2. <strong>è®¾ç½®Pythonå¼€å‘ç¯å¢ƒ</strong></h3><p>é¦–å…ˆï¼Œéœ€è¦å®‰è£…PythonåŠå…¶ç›¸å…³åº“ã€‚ç¡®ä¿ä½ å·²ç»å®‰è£…äº†Pythonï¼Œå¹¶ä¸”PLINKå·²ç»èƒ½å¤Ÿåœ¨å‘½ä»¤è¡Œä¸­æ­£å¸¸è¿è¡Œã€‚</p>
<p>å®‰è£…Tkinterï¼ˆå¤§å¤šæ•°Pythonå®‰è£…åŒ…éƒ½å·²ç»åŒ…å«å®ƒï¼‰å’Œå…¶ä»–å¿…è¦åº“ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install tk</span><br></pre></td></tr></table></figure>

<h3 id="3-è®¾è®¡GUIç•Œé¢"><a href="#3-è®¾è®¡GUIç•Œé¢" class="headerlink" title="3. è®¾è®¡GUIç•Œé¢"></a>3. <strong>è®¾è®¡GUIç•Œé¢</strong></h3><p>ä½¿ç”¨Tkinteråˆ›å»ºä¸€ä¸ªç®€å•çš„ç•Œé¢ï¼Œè®©ç”¨æˆ·å¯ä»¥é€‰æ‹©æ–‡ä»¶ã€è¾“å…¥å‚æ•°å¹¶è¿è¡ŒPLINKã€‚ä½ å¯ä»¥æä¾›æ–‡ä»¶æµè§ˆåŠŸèƒ½ä»¥åŠæŒ‰é’®è§¦å‘æ‰§è¡ŒPLINKå‘½ä»¤ã€‚</p>
<h3 id="4-ç¼–å†™ä»£ç "><a href="#4-ç¼–å†™ä»£ç " class="headerlink" title="4. ç¼–å†™ä»£ç "></a>4. <strong>ç¼–å†™ä»£ç </strong></h3><p>ä¸‹é¢æ˜¯ä¸€ä¸ªç®€å•çš„ç¤ºä¾‹ï¼Œå®ƒå…è®¸ç”¨æˆ·é€‰æ‹©è¾“å…¥æ–‡ä»¶å’Œè¾“å‡ºæ–‡ä»¶ï¼Œå¹¶æ‰§è¡ŒPLINKçš„å‘½ä»¤ã€‚è¯¥ç¤ºä¾‹åªæ˜¯ä¸€ä¸ªåŸºç¡€æ¡†æ¶ï¼Œä¾›ä½ è¿›ä¸€æ­¥æ‰©å±•ã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> subprocess</span><br><span class="line"><span class="keyword">import</span> tkinter <span class="keyword">as</span> tk</span><br><span class="line"><span class="keyword">from</span> tkinter <span class="keyword">import</span> filedialog, messagebox</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ›å»ºä¸»çª—å£</span></span><br><span class="line">root = tk.Tk()</span><br><span class="line">root.title(<span class="string">&quot;PLINK GUI&quot;</span>)</span><br><span class="line">root.geometry(<span class="string">&quot;500x300&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># å®šä¹‰é€‰æ‹©æ–‡ä»¶çš„å‡½æ•°</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">select_input_file</span>():</span><br><span class="line">    file_path = filedialog.askopenfilename(title=<span class="string">&quot;é€‰æ‹©è¾“å…¥æ–‡ä»¶&quot;</span>)</span><br><span class="line">    input_file_entry.delete(<span class="number">0</span>, tk.END)</span><br><span class="line">    input_file_entry.insert(<span class="number">0</span>, file_path)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">select_output_file</span>():</span><br><span class="line">    file_path = filedialog.asksaveasfilename(title=<span class="string">&quot;é€‰æ‹©è¾“å‡ºæ–‡ä»¶&quot;</span>)</span><br><span class="line">    output_file_entry.delete(<span class="number">0</span>, tk.END)</span><br><span class="line">    output_file_entry.insert(<span class="number">0</span>, file_path)</span><br><span class="line"></span><br><span class="line"><span class="comment"># å®šä¹‰è¿è¡ŒPLINKå‘½ä»¤çš„å‡½æ•°</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">run_plink</span>():</span><br><span class="line">    input_file = input_file_entry.get()</span><br><span class="line">    output_file = output_file_entry.get()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> input_file <span class="keyword">or</span> <span class="keyword">not</span> output_file:</span><br><span class="line">        messagebox.showerror(<span class="string">&quot;é”™è¯¯&quot;</span>, <span class="string">&quot;è¯·æŒ‡å®šè¾“å…¥å’Œè¾“å‡ºæ–‡ä»¶ã€‚&quot;</span>)</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        <span class="comment"># æ„å»ºPLINKå‘½ä»¤</span></span><br><span class="line">        plink_command = <span class="string">f&quot;plink --file <span class="subst">&#123;input_file&#125;</span> --make-bed --out <span class="subst">&#123;output_file&#125;</span>&quot;</span></span><br><span class="line">        subprocess.run(plink_command, shell=<span class="literal">True</span>, check=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line">        messagebox.showinfo(<span class="string">&quot;æˆåŠŸ&quot;</span>, <span class="string">&quot;PLINKå‘½ä»¤æˆåŠŸæ‰§è¡Œï¼&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">except</span> subprocess.CalledProcessError <span class="keyword">as</span> e:</span><br><span class="line">        messagebox.showerror(<span class="string">&quot;é”™è¯¯&quot;</span>, <span class="string">f&quot;PLINKå‘½ä»¤æ‰§è¡Œå¤±è´¥: <span class="subst">&#123;e&#125;</span>&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ›å»ºè¾“å…¥æ–‡ä»¶é€‰æ‹©æ¡†</span></span><br><span class="line">tk.Label(root, text=<span class="string">&quot;é€‰æ‹©è¾“å…¥æ–‡ä»¶:&quot;</span>).pack(pady=<span class="number">10</span>)</span><br><span class="line">input_file_entry = tk.Entry(root, width=<span class="number">50</span>)</span><br><span class="line">input_file_entry.pack(pady=<span class="number">5</span>)</span><br><span class="line">tk.Button(root, text=<span class="string">&quot;æµè§ˆ...&quot;</span>, command=select_input_file).pack(pady=<span class="number">5</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ›å»ºè¾“å‡ºæ–‡ä»¶é€‰æ‹©æ¡†</span></span><br><span class="line">tk.Label(root, text=<span class="string">&quot;é€‰æ‹©è¾“å‡ºæ–‡ä»¶:&quot;</span>).pack(pady=<span class="number">10</span>)</span><br><span class="line">output_file_entry = tk.Entry(root, width=<span class="number">50</span>)</span><br><span class="line">output_file_entry.pack(pady=<span class="number">5</span>)</span><br><span class="line">tk.Button(root, text=<span class="string">&quot;æµè§ˆ...&quot;</span>, command=select_output_file).pack(pady=<span class="number">5</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ›å»ºæ‰§è¡ŒæŒ‰é’®</span></span><br><span class="line">tk.Button(root, text=<span class="string">&quot;è¿è¡ŒPLINK&quot;</span>, command=run_plink).pack(pady=<span class="number">20</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¿è¡Œä¸»å¾ªç¯</span></span><br><span class="line">root.mainloop()</span><br></pre></td></tr></table></figure>

<h3 id="5-æ‰“åŒ…åº”ç”¨ç¨‹åº"><a href="#5-æ‰“åŒ…åº”ç”¨ç¨‹åº" class="headerlink" title="5. æ‰“åŒ…åº”ç”¨ç¨‹åº"></a>5. <strong>æ‰“åŒ…åº”ç”¨ç¨‹åº</strong></h3><p>å¦‚æœä½ å¸Œæœ›å°†è¿™ä¸ªPythonç¨‹åºæ‰“åŒ…æˆç‹¬ç«‹çš„å¯æ‰§è¡Œæ–‡ä»¶ï¼Œå¯ä»¥ä½¿ç”¨<code>PyInstaller</code>å°†å…¶æ‰“åŒ…æˆä¸€ä¸ªWindowså¯æ‰§è¡Œæ–‡ä»¶ï¼ˆ<code>.exe</code>ï¼‰ï¼Œè¿™æ ·å…¶ä»–ç”¨æˆ·æ— éœ€å®‰è£…Pythonå³å¯è¿è¡Œã€‚</p>
<p>å®‰è£…PyInstallerï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install pyinstaller</span><br></pre></td></tr></table></figure>

<p>æ‰“åŒ…ä½ çš„ç¨‹åºï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pyinstaller --onefile --windowed your_program.py</span><br></pre></td></tr></table></figure>
<ul>
<li><code>--onefile</code>ï¼šå°†æ‰€æœ‰ä¾èµ–æ‰“åŒ…æˆä¸€ä¸ªæ–‡ä»¶ã€‚</li>
<li><code>--windowed</code>ï¼šä¸æ˜¾ç¤ºå‘½ä»¤è¡Œçª—å£ã€‚</li>
</ul>
<p>è¿™å°†ç”Ÿæˆä¸€ä¸ªç‹¬ç«‹çš„<code>.exe</code>æ–‡ä»¶ï¼Œç”¨æˆ·å¯ä»¥åŒå‡»è¿è¡Œã€‚</p>
<h3 id="6-æ‰©å±•å’Œä¼˜åŒ–"><a href="#6-æ‰©å±•å’Œä¼˜åŒ–" class="headerlink" title="6. æ‰©å±•å’Œä¼˜åŒ–"></a>6. <strong>æ‰©å±•å’Œä¼˜åŒ–</strong></h3><p>ä½ å¯ä»¥æ‰©å±•å’Œç¾åŒ–ä½ çš„GUIï¼ŒåŠ å…¥æ›´å¤šçš„åŠŸèƒ½ï¼š</p>
<ul>
<li>æ·»åŠ æ›´å¤šPLINKå‘½ä»¤çš„æ”¯æŒï¼ˆä¾‹å¦‚<code>--freq</code>ã€<code>--logistic</code>ç­‰ï¼‰ã€‚</li>
<li>ä½¿ç”¨<strong>è¿›åº¦æ¡</strong>æ˜¾ç¤ºPLINKä»»åŠ¡æ‰§è¡Œè¿›åº¦ã€‚</li>
<li>å…è®¸ç”¨æˆ·é€‰æ‹©ä¸åŒçš„å‚æ•°é…ç½®ã€‚</li>
</ul>
<h3 id="7-ç”¨æˆ·ä½“éªŒä¼˜åŒ–"><a href="#7-ç”¨æˆ·ä½“éªŒä¼˜åŒ–" class="headerlink" title="7. ç”¨æˆ·ä½“éªŒä¼˜åŒ–"></a>7. <strong>ç”¨æˆ·ä½“éªŒä¼˜åŒ–</strong></h3><ul>
<li><strong>é”™è¯¯å¤„ç†</strong>ï¼šåœ¨è¿è¡ŒPLINKä¹‹å‰ï¼ŒéªŒè¯ç”¨æˆ·è¾“å…¥çš„æ–‡ä»¶è·¯å¾„å’Œå‚æ•°ã€‚</li>
<li><strong>æ—¥å¿—è¾“å‡º</strong>ï¼šå°†PLINKçš„è¾“å‡ºæ—¥å¿—æ˜¾ç¤ºåœ¨GUIä¸­ï¼Œæ–¹ä¾¿ç”¨æˆ·æŸ¥çœ‹æ‰§è¡Œç»“æœã€‚</li>
<li><strong>å¸®åŠ©ä¿¡æ¯</strong>ï¼šä¸ºæ¯ä¸ªåŠŸèƒ½æ·»åŠ ç®€çŸ­çš„æè¿°ï¼Œè®©ç”¨æˆ·æ›´å®¹æ˜“ç†è§£å„ä¸ªå‘½ä»¤çš„ç”¨é€”ã€‚</li>
</ul>
<h3 id="8-å‘å¸ƒ"><a href="#8-å‘å¸ƒ" class="headerlink" title="8. å‘å¸ƒ"></a>8. <strong>å‘å¸ƒ</strong></h3><p>ä¸€æ—¦ä½ æ‰“åŒ…å¥½å¯æ‰§è¡Œæ–‡ä»¶ï¼Œå¯ä»¥å°†å…¶å‘å¸ƒç»™ç”¨æˆ·ã€‚å¯ä»¥é€šè¿‡ä»¥ä¸‹é€”å¾„åˆ†å‘ï¼š</p>
<ul>
<li>åœ¨ä½ çš„ç½‘ç«™ä¸Šæä¾›ä¸‹è½½é“¾æ¥ã€‚</li>
<li>å°†å…¶æ‰“åŒ…æˆä¸€ä¸ªå®‰è£…åŒ…ï¼ˆå¦‚ä½¿ç”¨<code>Inno Setup</code>ï¼‰å¹¶æä¾›å®‰è£…å‘å¯¼ã€‚</li>
</ul>
<p>è¿™æ ·ï¼Œä½ å°†å¾—åˆ°ä¸€ä¸ªå¯ä»¥ä¸ºç”¨æˆ·æä¾›å‹å¥½ç•Œé¢çš„PLINKå·¥å…·åŒ…ï¼Œç®€åŒ–äº†å¤æ‚çš„å‘½ä»¤è¡Œæ“ä½œã€‚</p>
<h1 id="é‡åˆ°çš„é—®é¢˜"><a href="#é‡åˆ°çš„é—®é¢˜" class="headerlink" title="é‡åˆ°çš„é—®é¢˜"></a>é‡åˆ°çš„é—®é¢˜</h1><p>å›¾ç‰‡2</p>
<p>æ‰“åŒ…é—®é¢˜<br>pip install â€“user pyinstaller<br>ç„¶åæ‰§è¡Œä¸Šé¢çš„æ‰“åŒ…ä»£ç å°±è¡Œ</p>
<p>import os<br>import sys</p>
<h1 id="è·å–å¯æ‰§è¡Œæ–‡ä»¶æ‰€åœ¨ç›®å½•ï¼ˆæ‰“åŒ…æ—¶ä½¿ç”¨ï¼‰"><a href="#è·å–å¯æ‰§è¡Œæ–‡ä»¶æ‰€åœ¨ç›®å½•ï¼ˆæ‰“åŒ…æ—¶ä½¿ç”¨ï¼‰" class="headerlink" title="è·å–å¯æ‰§è¡Œæ–‡ä»¶æ‰€åœ¨ç›®å½•ï¼ˆæ‰“åŒ…æ—¶ä½¿ç”¨ï¼‰"></a>è·å–å¯æ‰§è¡Œæ–‡ä»¶æ‰€åœ¨ç›®å½•ï¼ˆæ‰“åŒ…æ—¶ä½¿ç”¨ï¼‰</h1><p>def get_resource_path(relative_path):<br>    â€œâ€â€ç”¨äºè·å–è¿è¡Œæ—¶è§£å‹å‡ºæ¥çš„èµ„æºè·¯å¾„â€â€â€<br>    try:<br>        base_path = sys._MEIPASS<br>    except Exception:<br>        base_path = os.path.abspath(â€œ.â€)</p>
<pre><code>return os.path.join(base_path, relative_path)
</code></pre>
<h1 id="ä½¿ç”¨ç›¸å¯¹è·¯å¾„å®šä½-prefetch-exe"><a href="#ä½¿ç”¨ç›¸å¯¹è·¯å¾„å®šä½-prefetch-exe" class="headerlink" title="ä½¿ç”¨ç›¸å¯¹è·¯å¾„å®šä½ prefetch.exe"></a>ä½¿ç”¨ç›¸å¯¹è·¯å¾„å®šä½ prefetch.exe</h1><p>prefetch_path = get_resource_path(â€œsratoolkit.3.0.10-win64/bin/prefetch.exeâ€)</p>
<h1 id="åç»­ä»£ç ä¿æŒä¸å˜"><a href="#åç»­ä»£ç ä¿æŒä¸å˜" class="headerlink" title="åç»­ä»£ç ä¿æŒä¸å˜"></a>åç»­ä»£ç ä¿æŒä¸å˜</h1><p>Rshinyapp</p>
<p>è¦ä»é›¶å¼€å§‹åœ¨ Windows ä¸Šå®‰è£…å’Œä½¿ç”¨ Electronï¼Œå¹¶å°†å…¶ä¸ Shiny åº”ç”¨é›†æˆï¼Œä»¥ä¸‹æ˜¯è¯¦ç»†çš„æ­¥éª¤ã€‚ä»æ£€æµ‹ Node.js æ˜¯å¦å®‰è£…å¼€å§‹ï¼Œåˆ°å®‰è£… Electron å¹¶åˆ›å»ºé¡¹ç›®ï¼Œä¸€æ­¥æ­¥æ•™ä½ å¦‚ä½•æ“ä½œã€‚</p>
<h3 id="æ­¥éª¤-1-æ£€æµ‹-Node-js-æ˜¯å¦å·²ç»å®‰è£…"><a href="#æ­¥éª¤-1-æ£€æµ‹-Node-js-æ˜¯å¦å·²ç»å®‰è£…" class="headerlink" title="æ­¥éª¤ 1: æ£€æµ‹ Node.js æ˜¯å¦å·²ç»å®‰è£…"></a>æ­¥éª¤ 1: æ£€æµ‹ Node.js æ˜¯å¦å·²ç»å®‰è£…</h3><ol>
<li><p><strong>æ‰“å¼€å‘½ä»¤æç¤ºç¬¦</strong>ï¼š</p>
<ul>
<li>æŒ‰ <code>Win + R</code> æ‰“å¼€â€œè¿è¡Œâ€å¯¹è¯æ¡†ï¼Œè¾“å…¥ <code>cmd</code>ï¼ŒæŒ‰å›è½¦æ‰“å¼€å‘½ä»¤æç¤ºç¬¦ã€‚</li>
</ul>
</li>
<li><p><strong>æ£€æµ‹ Node.js æ˜¯å¦å·²ç»å®‰è£…</strong>ï¼š<br>åœ¨å‘½ä»¤æç¤ºç¬¦ä¸­è¾“å…¥ä»¥ä¸‹å‘½ä»¤æ¥æ£€æµ‹ Node.js æ˜¯å¦å·²ç»å®‰è£…ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">node -v</span><br></pre></td></tr></table></figure>

<p>å¦‚æœ Node.js å·²ç»å®‰è£…ï¼Œä½ ä¼šçœ‹åˆ°ç±»ä¼¼äºä»¥ä¸‹çš„ç‰ˆæœ¬ä¿¡æ¯è¾“å‡ºï¼ˆå…·ä½“ç‰ˆæœ¬å·å¯èƒ½ä¸åŒï¼‰ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">v16.13.1</span><br></pre></td></tr></table></figure>

<p>å¦‚æœä½ çœ‹åˆ°é”™è¯¯æç¤ºå¦‚ <code>node ä¸æ˜¯å†…éƒ¨æˆ–å¤–éƒ¨å‘½ä»¤</code>ï¼Œè¯´æ˜ä½ è¿˜æ²¡æœ‰å®‰è£… Node.jsï¼Œç»§ç»­ä¸‹ä¸€æ­¥å®‰è£… Node.jsã€‚</p>
</li>
</ol>
<h3 id="æ­¥éª¤-2-å®‰è£…-Node-js"><a href="#æ­¥éª¤-2-å®‰è£…-Node-js" class="headerlink" title="æ­¥éª¤ 2: å®‰è£… Node.js"></a>æ­¥éª¤ 2: å®‰è£… Node.js</h3><ol>
<li><p><strong>ä¸‹è½½ Node.js å®‰è£…åŒ…</strong>ï¼š</p>
<ul>
<li>è®¿é—® <a target="_blank" rel="noopener" href="https://nodejs.org/">Node.js å®˜ç½‘</a>ã€‚</li>
<li>é€‰æ‹© <strong>LTS</strong> ç‰ˆæœ¬ï¼ˆé•¿æœŸæ”¯æŒç‰ˆæœ¬ï¼‰ï¼Œå¹¶ä¸‹è½½é€‚åˆä½ ç³»ç»Ÿçš„ Windows å®‰è£…åŒ…ã€‚</li>
</ul>
</li>
<li><p><strong>å®‰è£… Node.js</strong>ï¼š</p>
<ul>
<li><p>æ‰“å¼€ä¸‹è½½çš„ <code>.msi</code> æ–‡ä»¶ï¼ŒæŒ‰ç…§å®‰è£…å‘å¯¼çš„æç¤ºè¿›è¡Œå®‰è£…ã€‚å»ºè®®ä¿æŒé»˜è®¤è®¾ç½®ã€‚</p>
</li>
<li><p>åœ¨å®‰è£…è¿‡ç¨‹ä¸­ï¼Œç¡®ä¿å‹¾é€‰ <strong>â€œAutomatically install necessary toolsâ€</strong> é€‰é¡¹ï¼ˆè¿™ä¼šå®‰è£…ä¸€äº›å¿…è¦çš„å¼€å‘å·¥å…·ï¼‰ã€‚</p>
</li>
<li><p>å®Œæˆå®‰è£…åï¼Œé‡æ–°æ‰“å¼€å‘½ä»¤æç¤ºç¬¦ï¼Œè¾“å…¥ä»¥ä¸‹å‘½ä»¤å†æ¬¡æ£€æµ‹ Node.js å’Œ npm æ˜¯å¦å®‰è£…æˆåŠŸï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">node -v</span><br><span class="line">npm -v</span><br></pre></td></tr></table></figure></li>
</ul>
<p>å¦‚æœæˆåŠŸï¼Œä½ å°†çœ‹åˆ°ç±»ä¼¼äºä»¥ä¸‹çš„è¾“å‡ºï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">v16.13.1   <span class="comment"># Node.js ç‰ˆæœ¬</span></span><br><span class="line">8.1.0      <span class="comment"># npm ç‰ˆæœ¬</span></span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="æ­¥éª¤-3-å®‰è£…-Electron"><a href="#æ­¥éª¤-3-å®‰è£…-Electron" class="headerlink" title="æ­¥éª¤ 3: å®‰è£… Electron"></a>æ­¥éª¤ 3: å®‰è£… Electron</h3><ol>
<li><p><strong>åˆ›å»ºä¸€ä¸ªé¡¹ç›®æ–‡ä»¶å¤¹</strong>ï¼š<br>åœ¨ä½ æƒ³è¦å­˜æ”¾é¡¹ç›®çš„ç›®å½•ä¸‹ï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„é¡¹ç›®æ–‡ä»¶å¤¹ã€‚ä½ å¯ä»¥ä½¿ç”¨å‘½ä»¤æç¤ºç¬¦æ¥å®Œæˆè¿™ä¸€æ­¥ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> my-electron-app</span><br><span class="line"><span class="built_in">cd</span> my-electron-app</span><br></pre></td></tr></table></figure></li>
<li><p><strong>åˆå§‹åŒ– Node.js é¡¹ç›®</strong>ï¼š<br>åœ¨é¡¹ç›®æ–‡ä»¶å¤¹ä¸­è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œåˆå§‹åŒ–ä¸€ä¸ª Node.js é¡¹ç›®ã€‚è¿™å°†ç”Ÿæˆä¸€ä¸ª <code>package.json</code> æ–‡ä»¶ï¼Œç”¨äºç®¡ç†é¡¹ç›®ä¾èµ–ã€‚</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm init</span><br></pre></td></tr></table></figure>

<p>æŒ‰ç…§æç¤ºè¾“å…¥é¡¹ç›®åç§°ã€ç‰ˆæœ¬ç­‰ä¿¡æ¯ï¼Œæˆ–è€…æŒ‰å›è½¦ä½¿ç”¨é»˜è®¤å€¼å³å¯ã€‚</p>
</li>
<li><p><strong>å®‰è£… Electron</strong>ï¼š<br>åœ¨é¡¹ç›®æ–‡ä»¶å¤¹ä¸­ï¼Œè¿è¡Œä»¥ä¸‹å‘½ä»¤å®‰è£… Electronï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install electron --save-dev</span><br></pre></td></tr></table></figure>

<p>è¿™ä¸ªå‘½ä»¤ä¼šåœ¨é¡¹ç›®ä¸­å®‰è£… Electron ä½œä¸ºå¼€å‘ä¾èµ–ï¼Œå¹¶å°† Electron æ–‡ä»¶ä¿å­˜åœ¨ <code>node_modules</code> æ–‡ä»¶å¤¹ä¸­ã€‚</p>
</li>
</ol>
<h3 id="æ­¥éª¤-4-åˆ›å»º-Electron-ä¸»è¿›ç¨‹æ–‡ä»¶"><a href="#æ­¥éª¤-4-åˆ›å»º-Electron-ä¸»è¿›ç¨‹æ–‡ä»¶" class="headerlink" title="æ­¥éª¤ 4: åˆ›å»º Electron ä¸»è¿›ç¨‹æ–‡ä»¶"></a>æ­¥éª¤ 4: åˆ›å»º Electron ä¸»è¿›ç¨‹æ–‡ä»¶</h3><ol>
<li><p><strong>åˆ›å»º <code>main.js</code> æ–‡ä»¶</strong>ï¼š<br>åœ¨é¡¹ç›®æ–‡ä»¶å¤¹ä¸­åˆ›å»ºä¸€ä¸ªåä¸º <code>main.js</code> çš„æ–‡ä»¶ï¼Œè¿™æ˜¯ Electron åº”ç”¨çš„ä¸»è¿›ç¨‹æ–‡ä»¶ã€‚ä½ å¯ä»¥ä½¿ç”¨è®°äº‹æœ¬ã€Visual Studio Code æˆ–å…¶ä»–æ–‡æœ¬ç¼–è¾‘å™¨æ¥åˆ›å»ºè¿™ä¸ªæ–‡ä»¶ã€‚</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">touch</span> main.js</span><br></pre></td></tr></table></figure></li>
<li><p><strong>ç¼–å†™ <code>main.js</code> æ–‡ä»¶</strong>ï¼š<br>åœ¨ <code>main.js</code> æ–‡ä»¶ä¸­ï¼Œå†™å…¥ä»¥ä¸‹ä»£ç ã€‚è¿™ä¸ªä»£ç å°†åˆ›å»ºä¸€ä¸ªæ–°çš„ Electron çª—å£ï¼Œå¹¶åœ¨å…¶ä¸­åŠ è½½ä¸€ä¸ªç®€å•çš„æœ¬åœ° HTML é¡µé¢ï¼Œæˆ–è€…æŒ‡å‘ä¸€ä¸ª Shiny åº”ç”¨ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123; app, <span class="title class_">BrowserWindow</span> &#125; = <span class="built_in">require</span>(<span class="string">&#x27;electron&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> exec = <span class="built_in">require</span>(<span class="string">&#x27;child_process&#x27;</span>).<span class="property">exec</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> mainWindow;</span><br><span class="line"><span class="keyword">let</span> shinyProcess;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">createWindow</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="comment">// åˆ›å»ºæµè§ˆå™¨çª—å£</span></span><br><span class="line">  mainWindow = <span class="keyword">new</span> <span class="title class_">BrowserWindow</span>(&#123;</span><br><span class="line">    <span class="attr">width</span>: <span class="number">800</span>,</span><br><span class="line">    <span class="attr">height</span>: <span class="number">600</span>,</span><br><span class="line">    <span class="attr">webPreferences</span>: &#123;</span><br><span class="line">      <span class="attr">nodeIntegration</span>: <span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// å¯åŠ¨ Shiny åº”ç”¨</span></span><br><span class="line">  shinyProcess = <span class="title function_">exec</span>(<span class="string">&#x27;Rscript -e &quot;shiny::runApp(\&#x27;path_to_your_shiny_app\&#x27;, port=1234)&quot;&#x27;</span>);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// åŠ è½½ Shiny åº”ç”¨çš„åœ°å€</span></span><br><span class="line">  mainWindow.<span class="title function_">loadURL</span>(<span class="string">&#x27;http://localhost:1234&#x27;</span>);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// å½“çª—å£å…³é—­æ—¶è°ƒç”¨</span></span><br><span class="line">  mainWindow.<span class="title function_">on</span>(<span class="string">&#x27;closed&#x27;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    mainWindow = <span class="literal">null</span>;</span><br><span class="line">    shinyProcess.<span class="title function_">kill</span>();  <span class="comment">// å…³é—­ Shiny åº”ç”¨</span></span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">on</span>(<span class="string">&#x27;ready&#x27;</span>, createWindow);</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">on</span>(<span class="string">&#x27;window-all-closed&#x27;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (process.<span class="property">platform</span> !== <span class="string">&#x27;darwin&#x27;</span>) &#123;</span><br><span class="line">    app.<span class="title function_">quit</span>();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">on</span>(<span class="string">&#x27;activate&#x27;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (mainWindow === <span class="literal">null</span>) &#123;</span><br><span class="line">    <span class="title function_">createWindow</span>();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="æ­¥éª¤-5-è¿è¡Œ-Electron-åº”ç”¨"><a href="#æ­¥éª¤-5-è¿è¡Œ-Electron-åº”ç”¨" class="headerlink" title="æ­¥éª¤ 5: è¿è¡Œ Electron åº”ç”¨"></a>æ­¥éª¤ 5: è¿è¡Œ Electron åº”ç”¨</h3><ol>
<li><p><strong>ä¿®æ”¹ <code>package.json</code> æ–‡ä»¶</strong>ï¼š<br>ç¡®ä¿ä½ çš„ <code>package.json</code> æ–‡ä»¶ä¸­åŒ…å«ä»¥ä¸‹å†…å®¹ï¼Œç‰¹åˆ«æ˜¯ <code>main</code> å­—æ®µï¼ŒæŒ‡å‘ä½ çš„ä¸»è¿›ç¨‹æ–‡ä»¶ <code>main.js</code>ã€‚</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;my-electron-app&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;version&quot;</span><span class="punctuation">:</span> <span class="string">&quot;1.0.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;description&quot;</span><span class="punctuation">:</span> <span class="string">&quot;My Electron Shiny App&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;main&quot;</span><span class="punctuation">:</span> <span class="string">&quot;main.js&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;scripts&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;start&quot;</span><span class="punctuation">:</span> <span class="string">&quot;electron .&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;devDependencies&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;electron&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^latest&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure></li>
<li><p><strong>å¯åŠ¨åº”ç”¨</strong>ï¼š<br>åœ¨é¡¹ç›®æ–‡ä»¶å¤¹ä¸­ï¼Œè¿è¡Œä»¥ä¸‹å‘½ä»¤å¯åŠ¨ Electron åº”ç”¨ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm start</span><br></pre></td></tr></table></figure>

<p>Electron å°†ä¼šæ‰“å¼€ä¸€ä¸ªçª—å£ï¼Œå¹¶åŠ è½½ä½ æŒ‡å®šçš„ URLã€‚è¿™ä¸ª URL å¯ä»¥æ˜¯ä½ æœ¬åœ°è¿è¡Œçš„ Shiny åº”ç”¨ã€‚</p>
</li>
</ol>
<h3 id="æ­¥éª¤-6-å°†åº”ç”¨æ‰“åŒ…ä¸ºå¯æ‰§è¡Œæ–‡ä»¶"><a href="#æ­¥éª¤-6-å°†åº”ç”¨æ‰“åŒ…ä¸ºå¯æ‰§è¡Œæ–‡ä»¶" class="headerlink" title="æ­¥éª¤ 6: å°†åº”ç”¨æ‰“åŒ…ä¸ºå¯æ‰§è¡Œæ–‡ä»¶"></a>æ­¥éª¤ 6: å°†åº”ç”¨æ‰“åŒ…ä¸ºå¯æ‰§è¡Œæ–‡ä»¶</h3><p>è¦å°†ä½ çš„ Electron åº”ç”¨æ‰“åŒ…ä¸ºä¸€ä¸ª Windows å¯æ‰§è¡Œæ–‡ä»¶ï¼Œå¯ä»¥ä½¿ç”¨ <code>electron-packager</code> æˆ– <code>electron-builder</code>ã€‚</p>
<h4 id="ä½¿ç”¨-electron-packagerï¼š"><a href="#ä½¿ç”¨-electron-packagerï¼š" class="headerlink" title="ä½¿ç”¨ electron-packagerï¼š"></a>ä½¿ç”¨ <code>electron-packager</code>ï¼š</h4><ol>
<li><p><strong>å®‰è£… electron-packager</strong>ï¼š<br>åœ¨é¡¹ç›®æ–‡ä»¶å¤¹ä¸­è¿è¡Œä»¥ä¸‹å‘½ä»¤å®‰è£…æ‰“åŒ…å·¥å…·ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install electron-packager -g</span><br></pre></td></tr></table></figure></li>
<li><p><strong>æ‰“åŒ…åº”ç”¨</strong>ï¼š<br>è¿è¡Œä»¥ä¸‹å‘½ä»¤å°†ä½ çš„åº”ç”¨æ‰“åŒ…ä¸º Windows åº”ç”¨ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">electron-packager . MyShinyApp --platform=win32 --<span class="built_in">arch</span>=x64 --out=dist --overwrite</span><br></pre></td></tr></table></figure>

<p>è¿™ä¼šç”Ÿæˆä¸€ä¸ªå¯æ‰§è¡Œçš„ Windows åº”ç”¨ç¨‹åºï¼Œä½äº <code>dist</code> æ–‡ä»¶å¤¹ä¸‹ã€‚å…¶ä»–ç”¨æˆ·å¯ä»¥ç›´æ¥è¿è¡Œè¿™ä¸ªå¯æ‰§è¡Œæ–‡ä»¶ï¼Œè€Œæ— éœ€å®‰è£… Node.js æˆ– Electronã€‚</p>
</li>
</ol>
<h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><ol>
<li><strong>æ£€æµ‹ Node.js æ˜¯å¦å®‰è£…</strong>ï¼šé€šè¿‡å‘½ä»¤ <code>node -v</code> æŸ¥çœ‹æ˜¯å¦å®‰è£… Node.jsã€‚</li>
<li><strong>å®‰è£… Node.js</strong>ï¼šå¦‚æœæœªå®‰è£…ï¼Œè®¿é—® Node.js å®˜ç½‘ä¸‹è½½å®‰è£…åŒ…å¹¶å®‰è£…ã€‚</li>
<li><strong>å®‰è£… Electron</strong>ï¼šé€šè¿‡ <code>npm install electron</code> å®‰è£… Electronã€‚</li>
<li><strong>åˆ›å»º Electron åº”ç”¨</strong>ï¼šç¼–å†™ <code>main.js</code> æ–‡ä»¶ï¼Œé…ç½® Electron åŠ è½½ä½ çš„ Shiny åº”ç”¨ã€‚</li>
<li><strong>è¿è¡Œ Electron åº”ç”¨</strong>ï¼šé€šè¿‡ <code>npm start</code> å¯åŠ¨ä½ çš„åº”ç”¨ã€‚</li>
<li><strong>æ‰“åŒ…ä¸ºå¯æ‰§è¡Œæ–‡ä»¶</strong>ï¼šä½¿ç”¨ <code>electron-packager</code> å°†åº”ç”¨æ‰“åŒ…ä¸º Windows çš„å¯æ‰§è¡Œæ–‡ä»¶ï¼Œæ–¹ä¾¿åˆ†å‘ç»™å…¶ä»–ç”¨æˆ·ã€‚</li>
</ol>
<p>è¿™æ ·ï¼Œä½ å°±å¯ä»¥æŠŠä¸€ä¸ªåŸºäº Shiny çš„åº”ç”¨æ‰“åŒ…æˆç‹¬ç«‹çš„æ¡Œé¢åº”ç”¨ç¨‹åºäº†ã€‚å¦‚æœæœ‰ä»»ä½•é—®é¢˜ï¼Œæˆ‘å¯ä»¥è¿›ä¸€æ­¥å¸®åŠ©ä½ ï¼</p>
<p>éœ€è¦</p>
<p>å¦‚æœä½ å°† <code>DIVID_GO_KEGG.shiny.R</code> æ–‡ä»¶æ”¾åœ¨äº† <code>E:\I\å·¥ä½œ\elec\my-electron-app</code> æ–‡ä»¶å¤¹ä¸‹ï¼Œå¹¶å¸Œæœ› Electron æ­£å¸¸è¿è¡Œ Shiny åº”ç”¨ç¨‹åºï¼Œä½ éœ€è¦ç¡®ä¿è·¯å¾„è®¾ç½®æ­£ç¡®ï¼Œå¹¶ä¸”åº”ç”¨å¯ä»¥è®¿é—®è¿™ä¸ªæ–‡ä»¶ã€‚ä»¥ä¸‹æ˜¯ä½ éœ€è¦åšçš„è°ƒæ•´å’Œæ£€æŸ¥ã€‚</p>
<h3 id="1-ç¡®ä¿-Shiny-åº”ç”¨è·¯å¾„æ­£ç¡®"><a href="#1-ç¡®ä¿-Shiny-åº”ç”¨è·¯å¾„æ­£ç¡®" class="headerlink" title="1. ç¡®ä¿ Shiny åº”ç”¨è·¯å¾„æ­£ç¡®"></a>1. ç¡®ä¿ Shiny åº”ç”¨è·¯å¾„æ­£ç¡®</h3><p>å› ä¸ºä½ æŠŠ <code>DIVID_GO_KEGG.shiny.R</code> æ–‡ä»¶æ”¾åœ¨äº† <code>my-electron-app</code> æ–‡ä»¶å¤¹ä¸‹ï¼Œæ‰€ä»¥è¦åœ¨ Electron çš„ <code>main.js</code> ä¸­æ›´æ–° <code>shiny::runApp()</code> çš„è·¯å¾„ã€‚ä½¿ç”¨ç›¸å¯¹è·¯å¾„å¯ä»¥ç¡®ä¿åœ¨ä¸åŒçš„ç”µè„‘ä¸Šéƒ½å¯ä»¥æ­£ç¡®è®¿é—® Shiny åº”ç”¨ã€‚</p>
<p>å‡è®¾ä½ çš„é¡¹ç›®ç»“æ„å¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">E:\</span><br><span class="line">â””â”€â”€ I\</span><br><span class="line">    â””â”€â”€ å·¥ä½œ\</span><br><span class="line">        â””â”€â”€ elec\</span><br><span class="line">            â””â”€â”€ my-electron-app\</span><br><span class="line">                â”œâ”€â”€ main.js</span><br><span class="line">                â””â”€â”€ DIVID_GO_KEGG.shiny.R</span><br></pre></td></tr></table></figure>

<p>é‚£ä¹ˆï¼Œä½ å¯ä»¥åœ¨ <code>main.js</code> ä¸­ä½¿ç”¨ç›¸å¯¹è·¯å¾„æ¥å¼•ç”¨è¿™ä¸ªæ–‡ä»¶ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123; app, <span class="title class_">BrowserWindow</span> &#125; = <span class="built_in">require</span>(<span class="string">&#x27;electron&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> exec = <span class="built_in">require</span>(<span class="string">&#x27;child_process&#x27;</span>).<span class="property">exec</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> mainWindow;</span><br><span class="line"><span class="keyword">let</span> shinyProcess;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">createWindow</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="comment">// åˆ›å»ºElectronçª—å£</span></span><br><span class="line">  mainWindow = <span class="keyword">new</span> <span class="title class_">BrowserWindow</span>(&#123;</span><br><span class="line">    <span class="attr">width</span>: <span class="number">800</span>,</span><br><span class="line">    <span class="attr">height</span>: <span class="number">600</span>,</span><br><span class="line">    <span class="attr">webPreferences</span>: &#123;</span><br><span class="line">      <span class="attr">nodeIntegration</span>: <span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// å¯åŠ¨Shinyåº”ç”¨ç¨‹åºï¼Œä½¿ç”¨ç›¸å¯¹è·¯å¾„</span></span><br><span class="line">  shinyProcess = <span class="title function_">exec</span>(<span class="string">&#x27;Rscript -e &quot;shiny::runApp(\&#x27;./DIVID_GO_KEGG.shiny.R\&#x27;, port=1234)&quot;&#x27;</span>);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// åŠ è½½Shinyåº”ç”¨çš„URL</span></span><br><span class="line">  mainWindow.<span class="title function_">loadURL</span>(<span class="string">&#x27;http://127.0.0.1:1234&#x27;</span>);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// å½“çª—å£å…³é—­æ—¶ï¼Œå…³é—­Shinyåº”ç”¨</span></span><br><span class="line">  mainWindow.<span class="title function_">on</span>(<span class="string">&#x27;closed&#x27;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    mainWindow = <span class="literal">null</span>;</span><br><span class="line">    shinyProcess.<span class="title function_">kill</span>(); <span class="comment">// åœæ­¢Shinyåº”ç”¨</span></span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å½“åº”ç”¨å‡†å¤‡å¥½æ—¶åˆ›å»ºçª—å£</span></span><br><span class="line">app.<span class="title function_">on</span>(<span class="string">&#x27;ready&#x27;</span>, createWindow);</span><br><span class="line"></span><br><span class="line"><span class="comment">// å½“æ‰€æœ‰çª—å£å…³é—­æ—¶é€€å‡º</span></span><br><span class="line">app.<span class="title function_">on</span>(<span class="string">&#x27;window-all-closed&#x27;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (process.<span class="property">platform</span> !== <span class="string">&#x27;darwin&#x27;</span>) &#123;</span><br><span class="line">    app.<span class="title function_">quit</span>();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// å½“åº”ç”¨é‡æ–°æ¿€æ´»æ—¶ï¼Œé‡æ–°åˆ›å»ºçª—å£</span></span><br><span class="line">app.<span class="title function_">on</span>(<span class="string">&#x27;activate&#x27;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (mainWindow === <span class="literal">null</span>) &#123;</span><br><span class="line">    <span class="title function_">createWindow</span>();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h3 id="2-æ£€æŸ¥-Shiny-åº”ç”¨æ˜¯å¦æ­£ç¡®å¯åŠ¨"><a href="#2-æ£€æŸ¥-Shiny-åº”ç”¨æ˜¯å¦æ­£ç¡®å¯åŠ¨" class="headerlink" title="2. æ£€æŸ¥ Shiny åº”ç”¨æ˜¯å¦æ­£ç¡®å¯åŠ¨"></a>2. æ£€æŸ¥ Shiny åº”ç”¨æ˜¯å¦æ­£ç¡®å¯åŠ¨</h3><p>ä½ å¯ä»¥åœ¨ <code>main.js</code> ä¸­æ·»åŠ ä¸€äº›æ—¥å¿—ï¼Œä»¥ç¡®ä¿ <code>shiny::runApp()</code> è¢«æ­£ç¡®è°ƒç”¨å¹¶æ²¡æœ‰é”™è¯¯ã€‚ä¾‹å¦‚ï¼Œé‡å®šå‘è¾“å‡ºå’Œé”™è¯¯åˆ°æ—¥å¿—æ–‡ä»¶ä¸­ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">shinyProcess = <span class="title function_">exec</span>(<span class="string">&#x27;Rscript -e &quot;shiny::runApp(\&#x27;./DIVID_GO_KEGG.shiny.R\&#x27;, port=1234)&quot; &gt; shiny_app.log 2&gt;&amp;1&#x27;</span>);</span><br></pre></td></tr></table></figure>

<p>è¿™æ ·å¯ä»¥ç”Ÿæˆä¸€ä¸ª <code>shiny_app.log</code> æ–‡ä»¶ï¼Œä½ å¯ä»¥æ£€æŸ¥å…¶ä¸­çš„é”™è¯¯ä¿¡æ¯ã€‚</p>
<h3 id="3-ç¡®ä¿-R-å’Œå¿…è¦çš„åŒ…å·²å®‰è£…"><a href="#3-ç¡®ä¿-R-å’Œå¿…è¦çš„åŒ…å·²å®‰è£…" class="headerlink" title="3. ç¡®ä¿ R å’Œå¿…è¦çš„åŒ…å·²å®‰è£…"></a>3. ç¡®ä¿ R å’Œå¿…è¦çš„åŒ…å·²å®‰è£…</h3><p>ç¡®ä¿ä½ çš„ç›®æ ‡ç”µè„‘ä¸Šå·²ç»å®‰è£…äº† R å’Œå¿…è¦çš„ R åŒ…ã€‚å¦‚æœæ²¡æœ‰ï¼Œä½ éœ€è¦è€ƒè™‘ä»¥ä¸‹é€‰é¡¹ï¼š</p>
<ul>
<li><p><strong>å°† R Portable ç‰ˆæœ¬ä¸ Electron åº”ç”¨ä¸€èµ·æ‰“åŒ…</strong>ï¼Œä½¿å¾—æ— éœ€ç”¨æˆ·æ‰‹åŠ¨å®‰è£… Rã€‚</p>
</li>
<li><p><strong>æ£€æŸ¥å¹¶è‡ªåŠ¨å®‰è£…ä¾èµ–åŒ…</strong>ï¼šä½ å¯ä»¥é€šè¿‡ <code>Rscript</code> å¯åŠ¨ Shiny åº”ç”¨æ—¶è‡ªåŠ¨æ£€æŸ¥å¹¶å®‰è£…æ‰€éœ€çš„ R åŒ…ã€‚ä¾‹å¦‚ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">shinyProcess = <span class="title function_">exec</span>(<span class="string">&#x27;Rscript -e &quot;if (!require(\&#x27;shiny\&#x27;)) install.packages(\&#x27;shiny\&#x27;); shiny::runApp(\&#x27;./DIVID_GO_KEGG.shiny.R\&#x27;, port=1234)&quot;&#x27;</span>);</span><br></pre></td></tr></table></figure></li>
</ul>
<p>è¿™æ ·ï¼Œåœ¨ Shiny å¯åŠ¨æ—¶ä¼šè‡ªåŠ¨å®‰è£… <code>shiny</code> åŒ…åŠå…¶ä»–æ‰€éœ€çš„ä¾èµ–ã€‚</p>
<h3 id="4-è°ƒè¯•ç©ºç™½é¡µé¢é—®é¢˜"><a href="#4-è°ƒè¯•ç©ºç™½é¡µé¢é—®é¢˜" class="headerlink" title="4. è°ƒè¯•ç©ºç™½é¡µé¢é—®é¢˜"></a>4. è°ƒè¯•ç©ºç™½é¡µé¢é—®é¢˜</h3><p>å¦‚æœå…¶ä»–ç”µè„‘ä¸Šä¾ç„¶æ˜¾ç¤ºç©ºç™½é¡µé¢ï¼Œå¯èƒ½æ˜¯ Shiny åº”ç”¨æ²¡æœ‰æ­£ç¡®å¯åŠ¨æˆ–è€…é¡µé¢åŠ è½½å¤±è´¥ã€‚å¯ä»¥ä½¿ç”¨ä»¥ä¸‹è°ƒè¯•æŠ€å·§ï¼š</p>
<ul>
<li><p><strong>æ‰“å¼€å¼€å‘è€…å·¥å…·</strong>ï¼šåœ¨ Electron ä¸­ï¼Œå¯ç”¨å¼€å‘è€…å·¥å…·æ¥æŸ¥çœ‹æ§åˆ¶å°è¾“å‡ºå’Œç½‘ç»œè¯·æ±‚ã€‚</p>
<p>åœ¨ <code>createWindow</code> å‡½æ•°ä¸­ï¼Œæ·»åŠ ä»¥ä¸‹ä»£ç ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mainWindow.<span class="property">webContents</span>.<span class="title function_">openDevTools</span>();</span><br></pre></td></tr></table></figure></li>
<li><p><strong>æ£€æŸ¥ç«¯å£å†²çª</strong>ï¼šå¦‚æœç«¯å£ <code>1234</code> å·²è¢«å…¶ä»–è¿›ç¨‹å ç”¨ï¼ŒShiny åº”ç”¨å¯èƒ½æ— æ³•å¯åŠ¨ã€‚ä½ å¯ä»¥å°è¯•æ›´æ¢ç«¯å£ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">shinyProcess = <span class="title function_">exec</span>(<span class="string">&#x27;Rscript -e &quot;shiny::runApp(\&#x27;./DIVID_GO_KEGG.shiny.R\&#x27;, port=4321)&quot;&#x27;</span>);</span><br><span class="line">mainWindow.<span class="title function_">loadURL</span>(<span class="string">&#x27;http://127.0.0.1:4321&#x27;</span>);</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="5-ç¡®ä¿ä¾èµ–æ–‡ä»¶æ­£ç¡®æ‰“åŒ…"><a href="#5-ç¡®ä¿ä¾èµ–æ–‡ä»¶æ­£ç¡®æ‰“åŒ…" class="headerlink" title="5. ç¡®ä¿ä¾èµ–æ–‡ä»¶æ­£ç¡®æ‰“åŒ…"></a>5. ç¡®ä¿ä¾èµ–æ–‡ä»¶æ­£ç¡®æ‰“åŒ…</h3><p>å¦‚æœ <code>DIVID_GO_KEGG.shiny.R</code> ä¾èµ–å…¶ä»–æ–‡ä»¶ï¼ˆå¦‚æ•°æ®æ–‡ä»¶ã€å›¾åƒç­‰ï¼‰ï¼Œéœ€è¦ç¡®ä¿è¿™äº›æ–‡ä»¶ä¹Ÿè¢«æ‰“åŒ…åˆ° Electron åº”ç”¨ä¸­ã€‚ä½ å¯ä»¥é€šè¿‡ <code>electron-builder</code> æˆ– <code>electron-packager</code> é…ç½®æ‰“åŒ…è¿‡ç¨‹ï¼Œç¡®ä¿æ‰€æœ‰ä¾èµ–æ–‡ä»¶éƒ½åŒ…å«åœ¨åº”ç”¨ä¸­ã€‚</p>
<p>åœ¨ <code>package.json</code> ä¸­ï¼Œé…ç½® <code>build</code> é€‰é¡¹æ¥æŒ‡å®šéœ€è¦æ‰“åŒ…çš„æ–‡ä»¶ï¼š</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">&quot;build&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;files&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">    <span class="string">&quot;./DIVID_GO_KEGG.shiny.R&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="string">&quot;./node_modules/**&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="string">&quot;./main.js&quot;</span></span><br><span class="line">  <span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<h3 id="æ€»ç»“-1"><a href="#æ€»ç»“-1" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><ol>
<li><strong>ç›¸å¯¹è·¯å¾„é—®é¢˜</strong>ï¼šç¡®ä¿åœ¨ <code>main.js</code> ä¸­ä½¿ç”¨ç›¸å¯¹è·¯å¾„æ¥å¼•ç”¨ <code>DIVID_GO_KEGG.shiny.R</code> æ–‡ä»¶ã€‚</li>
<li><strong>æ—¥å¿—è°ƒè¯•</strong>ï¼šé€šè¿‡å°† Shiny åº”ç”¨çš„è¾“å‡ºé‡å®šå‘åˆ°æ—¥å¿—æ–‡ä»¶ä¸­æ¥æŸ¥çœ‹é”™è¯¯ä¿¡æ¯ã€‚</li>
<li><strong>ä¾èµ–æ£€æŸ¥</strong>ï¼šç¡®ä¿å¿…è¦çš„ R åŒ…å·²å®‰è£…ï¼Œå¯ä»¥é€šè¿‡å¯åŠ¨æ—¶è‡ªåŠ¨å®‰è£…ã€‚</li>
<li><strong>ç«¯å£é—®é¢˜</strong>ï¼šç¡®ä¿æ²¡æœ‰ç«¯å£å†²çªï¼Œå¿…è¦æ—¶æ›´æ¢ç«¯å£ã€‚</li>
<li><strong>ä¾èµ–æ–‡ä»¶æ‰“åŒ…</strong>ï¼šç¡®ä¿æ‰€æœ‰ Shiny åº”ç”¨ä¾èµ–çš„æ–‡ä»¶éƒ½è¢«æ­£ç¡®æ‰“åŒ…åˆ°åº”ç”¨ä¸­ã€‚</li>
</ol>
<p>é€šè¿‡è¿™äº›è°ƒæ•´ï¼Œä½ åº”è¯¥èƒ½å¤Ÿåœ¨ä¸åŒçš„ç”µè„‘ä¸ŠæˆåŠŸè¿è¡Œ Electron å’Œ Shiny åº”ç”¨ã€‚å¦‚æœä»æœ‰é—®é¢˜ï¼Œå¯ä»¥æ£€æŸ¥æ—¥å¿—æ–‡ä»¶ä¸­çš„è¯¦ç»†é”™è¯¯ä¿¡æ¯ã€‚</p>
<p>ä½ ä¸‹è½½çš„ <code>R-Portable_4.2.0.paf.exe</code> æ˜¯ä¸€ä¸ªå®‰è£…ç¨‹åºæ ¼å¼çš„ä¾¿æºç‰ˆ Rï¼Œé€šå¸¸æ˜¯é€šè¿‡ PortableApps å¹³å°å‘å¸ƒçš„ã€‚è¿™ä¸ªå®‰è£…ç¨‹åºä¼šå°† R Portable å®‰è£…åˆ°ä½ æŒ‡å®šçš„ç›®å½•ï¼Œä¹‹åä½ å¯ä»¥ä½¿ç”¨è§£å‹åçš„å†…å®¹ä¸ Electron ä¸€èµ·æ‰“åŒ…ã€‚</p>
<h3 id="æ­¥éª¤-1-å®‰è£…-R-Portable"><a href="#æ­¥éª¤-1-å®‰è£…-R-Portable" class="headerlink" title="æ­¥éª¤ 1: å®‰è£… R Portable"></a>æ­¥éª¤ 1: å®‰è£… R Portable</h3><ol>
<li><p><strong>è¿è¡Œ <code>R-Portable_4.2.0.paf.exe</code> å®‰è£…ç¨‹åº</strong>ï¼š</p>
<ul>
<li>åŒå‡»è¿è¡Œè¿™ä¸ª <code>.exe</code> æ–‡ä»¶ï¼Œå®ƒä¼šæç¤ºä½ é€‰æ‹©ä¸€ä¸ªå®‰è£…ç›®å½•ã€‚ä½ å¯ä»¥å°† R Portable å®‰è£…åˆ° <code>my-electron-app</code> ç›®å½•ä¸‹çš„ <code>r-portable/</code> æ–‡ä»¶å¤¹ä¸­ã€‚</li>
<li>å®‰è£…å®Œæˆåï¼ŒR Portable çš„æ–‡ä»¶å¤¹å°†åŒ…å« <code>bin</code>, <code>library</code>, <code>etc</code> ç­‰å­æ–‡ä»¶å¤¹ã€‚</li>
</ul>
</li>
<li><p><strong>æ£€æŸ¥å®‰è£…è·¯å¾„</strong>ï¼š<br>å®‰è£…å®Œæˆåï¼Œæ£€æŸ¥ <code>r-portable/</code> æ–‡ä»¶å¤¹çš„ç»“æ„ï¼Œç¡®ä¿ä½ æœ‰ä»¥ä¸‹æ–‡ä»¶ï¼ˆè·¯å¾„å¯èƒ½å› ç‰ˆæœ¬ä¸åŒè€Œç¨æœ‰å·®å¼‚ï¼‰ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">my-electron-app/</span><br><span class="line">â”œâ”€â”€ r-portable/</span><br><span class="line">â”‚   â”œâ”€â”€ App/</span><br><span class="line">â”‚   â”‚   â”œâ”€â”€ R-Portable/</span><br><span class="line">â”‚   â”‚   â””â”€â”€ DefaultData/</span><br><span class="line">â”‚   â””â”€â”€ R-Portable.exe</span><br></pre></td></tr></table></figure>

<p>å…¶ä¸­ï¼Œ<code>R-Portable.exe</code> å¯ä»¥ç”¨æ¥è¿è¡Œä¾¿æºç‰ˆ Rï¼Œä½ å°†åœ¨ Electron ä¸­ä½¿ç”¨å®ƒæ¥å¯åŠ¨ Shiny åº”ç”¨ã€‚</p>
</li>
</ol>
<h3 id="æ­¥éª¤-2-é…ç½®-Electron-ä½¿ç”¨-R-Portable"><a href="#æ­¥éª¤-2-é…ç½®-Electron-ä½¿ç”¨-R-Portable" class="headerlink" title="æ­¥éª¤ 2: é…ç½® Electron ä½¿ç”¨ R Portable"></a>æ­¥éª¤ 2: é…ç½® Electron ä½¿ç”¨ R Portable</h3><p>ç°åœ¨ä½ å·²ç»å®‰è£…äº† R Portableï¼Œéœ€è¦åœ¨ Electron çš„ <code>main.js</code> æ–‡ä»¶ä¸­é…ç½® R Portable æ¥è¿è¡Œ Shiny åº”ç”¨ã€‚</p>
<h4 id="æ›´æ–°-main-js"><a href="#æ›´æ–°-main-js" class="headerlink" title="æ›´æ–° main.js"></a>æ›´æ–° <code>main.js</code></h4><p>å‡è®¾ R Portable å®‰è£…åœ¨ <code>r-portable/App/R-Portable/bin/</code> æ–‡ä»¶å¤¹ä¸­ï¼Œä½ éœ€è¦åœ¨ <code>main.js</code> ä¸­æŒ‡å®šè¯¥è·¯å¾„æ¥è¿è¡Œ Shiny åº”ç”¨ã€‚ä¿®æ”¹ <code>main.js</code> æ–‡ä»¶å¦‚ä¸‹ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123; app, <span class="title class_">BrowserWindow</span> &#125; = <span class="built_in">require</span>(<span class="string">&#x27;electron&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> exec = <span class="built_in">require</span>(<span class="string">&#x27;child_process&#x27;</span>).<span class="property">exec</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> mainWindow;</span><br><span class="line"><span class="keyword">let</span> shinyProcess;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">createWindow</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="comment">// åˆ›å»ºæµè§ˆå™¨çª—å£</span></span><br><span class="line">  mainWindow = <span class="keyword">new</span> <span class="title class_">BrowserWindow</span>(&#123;</span><br><span class="line">    <span class="attr">width</span>: <span class="number">800</span>,</span><br><span class="line">    <span class="attr">height</span>: <span class="number">600</span>,</span><br><span class="line">    <span class="attr">webPreferences</span>: &#123;</span><br><span class="line">      <span class="attr">nodeIntegration</span>: <span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// ä½¿ç”¨ä¾¿æºç‰ˆ R å¯åŠ¨ Shiny åº”ç”¨</span></span><br><span class="line">  shinyProcess = <span class="title function_">exec</span>(<span class="string">&#x27;r-portable/App/R-Portable/bin/Rscript.exe -e &quot;shiny::runApp(\&#x27;./DIVID_GO_KEGG.shiny.R\&#x27;, port=1234)&quot;&#x27;</span>);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// åŠ è½½ Shiny åº”ç”¨çš„URL</span></span><br><span class="line">  mainWindow.<span class="title function_">loadURL</span>(<span class="string">&#x27;http://127.0.0.1:1234&#x27;</span>);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// å½“çª—å£å…³é—­æ—¶ï¼Œå…³é—­Shinyåº”ç”¨</span></span><br><span class="line">  mainWindow.<span class="title function_">on</span>(<span class="string">&#x27;closed&#x27;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    mainWindow = <span class="literal">null</span>;</span><br><span class="line">    shinyProcess.<span class="title function_">kill</span>(); <span class="comment">// åœæ­¢ Shiny åº”ç”¨</span></span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Electron å‡†å¤‡å¥½æ—¶å¯åŠ¨</span></span><br><span class="line">app.<span class="title function_">on</span>(<span class="string">&#x27;ready&#x27;</span>, createWindow);</span><br><span class="line"></span><br><span class="line"><span class="comment">// å½“æ‰€æœ‰çª—å£å…³é—­æ—¶é€€å‡º</span></span><br><span class="line">app.<span class="title function_">on</span>(<span class="string">&#x27;window-all-closed&#x27;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (process.<span class="property">platform</span> !== <span class="string">&#x27;darwin&#x27;</span>) &#123;</span><br><span class="line">    app.<span class="title function_">quit</span>();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// å½“åº”ç”¨é‡æ–°æ¿€æ´»æ—¶ï¼Œé‡æ–°åˆ›å»ºçª—å£</span></span><br><span class="line">app.<span class="title function_">on</span>(<span class="string">&#x27;activate&#x27;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (mainWindow === <span class="literal">null</span>) &#123;</span><br><span class="line">    <span class="title function_">createWindow</span>();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h3 id="æ­¥éª¤-3-é¢„å®‰è£…-Shiny-å’Œæ‰€éœ€-R-åŒ…"><a href="#æ­¥éª¤-3-é¢„å®‰è£…-Shiny-å’Œæ‰€éœ€-R-åŒ…" class="headerlink" title="æ­¥éª¤ 3: é¢„å®‰è£… Shiny å’Œæ‰€éœ€ R åŒ…"></a>æ­¥éª¤ 3: é¢„å®‰è£… Shiny å’Œæ‰€éœ€ R åŒ…</h3><p>åœ¨ä½ æ‰“åŒ…åº”ç”¨ä¹‹å‰ï¼Œç¡®ä¿ R Portable ä¸­å·²ç»å®‰è£…äº† <code>shiny</code> ä»¥åŠå…¶ä»–ä½ éœ€è¦çš„ R åŒ…ã€‚ä½ å¯ä»¥æ‰‹åŠ¨æ‰“å¼€ R Portable å¹¶å®‰è£…è¿™äº›åŒ…ã€‚</p>
<ol>
<li><p><strong>è¿è¡Œ R Portable</strong>ï¼š</p>
<ul>
<li>æ‰¾åˆ° <code>R-Portable.exe</code> å¹¶è¿è¡Œï¼Œæ‰“å¼€ä¾¿æºç‰ˆ R çš„ R æ§åˆ¶å°ã€‚</li>
</ul>
</li>
<li><p><strong>å®‰è£… R åŒ…</strong>ï¼š<br>åœ¨ R æ§åˆ¶å°ä¸­è¿è¡Œä»¥ä¸‹å‘½ä»¤æ¥å®‰è£… <code>shiny</code> ä»¥åŠå…¶ä»–æ‰€éœ€çš„åŒ…ï¼š</p>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">install.packages<span class="punctuation">(</span><span class="string">&#x27;shiny&#x27;</span><span class="punctuation">,</span> repos<span class="operator">=</span><span class="string">&#x27;https://cloud.r-project.org&#x27;</span><span class="punctuation">)</span></span><br><span class="line">install.packages<span class="punctuation">(</span><span class="string">&#x27;å…¶ä»–éœ€è¦çš„åŒ…&#x27;</span><span class="punctuation">,</span> repos<span class="operator">=</span><span class="string">&#x27;https://cloud.r-project.org&#x27;</span><span class="punctuation">)</span></span><br></pre></td></tr></table></figure>

<p>ç¡®ä¿è¿™äº›åŒ…å®‰è£…åœ¨ä¾¿æºç‰ˆ R çš„ <code>r-portable/App/R-Portable/library/</code> æ–‡ä»¶å¤¹ä¸­ã€‚</p>
</li>
</ol>
<h3 id="æ­¥éª¤-4-æ‰“åŒ…åº”ç”¨ç¨‹åº"><a href="#æ­¥éª¤-4-æ‰“åŒ…åº”ç”¨ç¨‹åº" class="headerlink" title="æ­¥éª¤ 4: æ‰“åŒ…åº”ç”¨ç¨‹åº"></a>æ­¥éª¤ 4: æ‰“åŒ…åº”ç”¨ç¨‹åº</h3><p>å½“ä½ å®Œæˆäº†é…ç½® R Portable å’Œå®‰è£…æ‰€éœ€çš„ R åŒ…åï¼Œä½ å¯ä»¥ä½¿ç”¨ <code>electron-builder</code> å°†æ•´ä¸ªåº”ç”¨æ‰“åŒ…ä¸º <code>.exe</code> æ–‡ä»¶ã€‚</p>
<ol>
<li><p>**å®‰è£… <code>electron-builder</code>**ï¼š<br>å¦‚æœä½ è¿˜æ²¡æœ‰å®‰è£… <code>electron-builder</code>ï¼Œåœ¨é¡¹ç›®ç›®å½•ä¸­è¿è¡Œï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install electron-builder --save-dev</span><br></pre></td></tr></table></figure></li>
<li><p><strong>é…ç½® <code>package.json</code> æ–‡ä»¶</strong>ï¼š<br>ç¡®ä¿ä½ çš„ <code>package.json</code> æ–‡ä»¶ä¸­çš„ <code>build</code> éƒ¨åˆ†åŒ…å« R Portable ç›®å½•ï¼Œä»¥ä¾¿å°†å®ƒæ‰“åŒ…åˆ°æœ€ç»ˆçš„åº”ç”¨ç¨‹åºä¸­ã€‚</p>
<p>ç¤ºä¾‹ <code>package.json</code>ï¼š</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;go_kegg_gsea&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;version&quot;</span><span class="punctuation">:</span> <span class="string">&quot;1.0.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;description&quot;</span><span class="punctuation">:</span> <span class="string">&quot;My Electron Shiny App&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;main&quot;</span><span class="punctuation">:</span> <span class="string">&quot;main.js&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;scripts&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;start&quot;</span><span class="punctuation">:</span> <span class="string">&quot;electron .&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;dist&quot;</span><span class="punctuation">:</span> <span class="string">&quot;electron-builder&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;build&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;appId&quot;</span><span class="punctuation">:</span> <span class="string">&quot;com.example.go_kegg_gsea&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;win&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;target&quot;</span><span class="punctuation">:</span> <span class="string">&quot;nsis&quot;</span>  <span class="comment">// ç”Ÿæˆå•ä¸ª .exe å®‰è£…åŒ…</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;files&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">      <span class="string">&quot;./main.js&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="string">&quot;./DIVID_GO_KEGG.shiny.R&quot;</span><span class="punctuation">,</span>   <span class="comment">// Shiny åº”ç”¨æ–‡ä»¶</span></span><br><span class="line">      <span class="string">&quot;./r-portable/**&quot;</span>            <span class="comment">// åŒ…å« R Portable çš„æ‰€æœ‰æ–‡ä»¶</span></span><br><span class="line">    <span class="punctuation">]</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;devDependencies&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;electron&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^latest&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;electron-builder&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^latest&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<p>è¿™é‡Œ <code>files</code> éƒ¨åˆ†ç¡®ä¿ <code>r-portable</code> æ–‡ä»¶å¤¹å’Œç›¸å…³çš„ Shiny åº”ç”¨æ–‡ä»¶ä¼šè¢«æ‰“åŒ…è¿›åº”ç”¨ç¨‹åºä¸­ã€‚</p>
</li>
<li><p><strong>è¿è¡Œæ‰“åŒ…å‘½ä»¤</strong>ï¼š<br>åœ¨å‘½ä»¤è¡Œä¸­è¿è¡Œä»¥ä¸‹å‘½ä»¤æ‰“åŒ…ä½ çš„åº”ç”¨ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm run dist</span><br></pre></td></tr></table></figure>

<p>è¿™ä¼šç”Ÿæˆä¸€ä¸ªå®‰è£…æ–‡ä»¶ <code>.exe</code>ï¼Œå…¶ä¸­åŒ…å«ä½ çš„ Electron åº”ç”¨ã€R Portable å’Œ Shiny åº”ç”¨ã€‚ç”¨æˆ·å¯ä»¥ç›´æ¥å®‰è£…å¹¶è¿è¡Œè¯¥ <code>.exe</code> æ–‡ä»¶ï¼Œæ‰€æœ‰ä¾èµ–å°†è‡ªåŠ¨åŒ…å«åœ¨å†…ã€‚</p>
</li>
</ol>
<h3 id="æ­¥éª¤-5-æµ‹è¯•æ‰“åŒ…ç»“æœ"><a href="#æ­¥éª¤-5-æµ‹è¯•æ‰“åŒ…ç»“æœ" class="headerlink" title="æ­¥éª¤ 5: æµ‹è¯•æ‰“åŒ…ç»“æœ"></a>æ­¥éª¤ 5: æµ‹è¯•æ‰“åŒ…ç»“æœ</h3><p>ç”Ÿæˆ <code>.exe</code> æ–‡ä»¶åï¼Œè¿›è¡Œä»¥ä¸‹æµ‹è¯•ï¼š</p>
<ol>
<li><p><strong>å®‰è£…å¹¶è¿è¡Œåº”ç”¨</strong>ï¼š<br>åœ¨ä½ è‡ªå·±çš„ç”µè„‘æˆ–å…¶ä»–æ²¡æœ‰å®‰è£… R çš„ç”µè„‘ä¸Šï¼Œè¿è¡Œæ‰“åŒ…ç”Ÿæˆçš„ <code>.exe</code> æ–‡ä»¶ã€‚ç¡®ä¿ R Portable å’Œ Shiny åº”ç”¨æ­£å¸¸å¯åŠ¨ã€‚</p>
</li>
<li><p><strong>æ£€æŸ¥ä¾èµ–åŒ…</strong>ï¼š<br>å¦‚æœ Shiny åº”ç”¨èƒ½å¤Ÿæ­£å¸¸è¿è¡Œï¼Œè¯´æ˜ R Portable çš„ç¯å¢ƒå’Œä¾èµ–åŒ…é…ç½®æˆåŠŸã€‚å¦‚æœå‡ºç°é”™è¯¯ï¼Œè¯·æ£€æŸ¥ <code>r-portable/App/R-Portable/library/</code> ä¸­æ˜¯å¦åŒ…å«æ‰€æœ‰å¿…è¦çš„ R åŒ…ã€‚</p>
</li>
</ol>
<h3 id="æ€»ç»“-2"><a href="#æ€»ç»“-2" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p>é€šè¿‡ä½¿ç”¨ R Portable å¹¶å°†å…¶ä¸ Electron ä¸€èµ·æ‰“åŒ…ï¼Œä½ å¯ä»¥åˆ›å»ºä¸€ä¸ªç‹¬ç«‹çš„ Windows åº”ç”¨ï¼Œç”¨æˆ·æ— éœ€å®‰è£… R ç¯å¢ƒå³å¯è¿è¡Œä½ çš„ Shiny åº”ç”¨ã€‚</p>
<ol>
<li><strong>å®‰è£… R Portable</strong> å¹¶å°†å…¶åŒ…å«åœ¨é¡¹ç›®ç›®å½•ä¸­ã€‚</li>
<li><strong>åœ¨ Electron ä¸­è°ƒç”¨ R Portable</strong> æ¥è¿è¡Œ Shiny åº”ç”¨ã€‚</li>
<li><strong>é¢„å®‰è£… Shiny å’Œæ‰€æœ‰æ‰€éœ€ R åŒ…</strong> åˆ° R Portable ç¯å¢ƒä¸­ï¼Œç¡®ä¿ç”¨æˆ·ä¸éœ€è¦æ‰‹åŠ¨å®‰è£…åŒ…ã€‚</li>
<li><strong>ä½¿ç”¨ <code>electron-builder</code> æ‰“åŒ…åº”ç”¨</strong>ï¼Œç”ŸæˆåŒ…å«æ‰€æœ‰ä¾èµ–çš„ <code>.exe</code> æ–‡ä»¶ã€‚</li>
</ol>
<p>è¿™ç§æ–¹æ³•å¯ä»¥è®©ä½ æ„å»ºä¸€ä¸ªæ— éœ€ç”¨æˆ·å®‰è£… R å’Œ Shiny çš„å®Œæ•´åº”ç”¨ã€‚å¦‚æœä½ æœ‰å…¶ä»–é—®é¢˜ï¼Œè¯·å‘Šè¯‰æˆ‘ï¼</p>
<h3 id="ä½¿ç”¨-RInno-æ‰“åŒ…-Shiny-åº”ç”¨çš„è¯¦ç»†æ­¥éª¤"><a href="#ä½¿ç”¨-RInno-æ‰“åŒ…-Shiny-åº”ç”¨çš„è¯¦ç»†æ­¥éª¤" class="headerlink" title="ä½¿ç”¨ RInno æ‰“åŒ… Shiny åº”ç”¨çš„è¯¦ç»†æ­¥éª¤"></a>ä½¿ç”¨ RInno æ‰“åŒ… Shiny åº”ç”¨çš„è¯¦ç»†æ­¥éª¤</h3><p>é€šè¿‡ <code>RInno</code> å¯ä»¥å°†ä½ çš„ Shiny åº”ç”¨ç¨‹åºæ‰“åŒ…ä¸º Windows å®‰è£…ç¨‹åºï¼ˆ<code>.exe</code> æ–‡ä»¶ï¼‰ï¼Œä¾›ç”¨æˆ·æ— éœ€é¢å¤–å®‰è£… R ç¯å¢ƒå³å¯è¿è¡Œã€‚ä»¥ä¸‹æ˜¯è¯¦ç»†çš„æ“ä½œæ­¥éª¤ï¼š</p>
<hr>
<h4 id="1-å‡†å¤‡-Shiny-åº”ç”¨"><a href="#1-å‡†å¤‡-Shiny-åº”ç”¨" class="headerlink" title="1. å‡†å¤‡ Shiny åº”ç”¨"></a><strong>1. å‡†å¤‡ Shiny åº”ç”¨</strong></h4><p>ç¡®ä¿ä½ å·²ç»ç¼–å†™äº†ä¸€ä¸ª Shiny åº”ç”¨å¹¶å°†å®ƒå­˜å‚¨åœ¨ä¸€ä¸ªæ–‡ä»¶å¤¹ä¸­ã€‚ä¾‹å¦‚ï¼Œå‡è®¾ä½ çš„åº”ç”¨å­˜å‚¨åœ¨ <code>E:/I/å·¥ä½œ/elec/Rinno</code> æ–‡ä»¶å¤¹ä¸‹ï¼Œå¹¶ä¸”æ–‡ä»¶åæ˜¯ <code>app.R</code>ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">E:/I/å·¥ä½œ/elec/Rinno/</span><br><span class="line">  â””â”€â”€ app.R  (Shinyåº”ç”¨çš„ä¸»æ–‡ä»¶)</span><br></pre></td></tr></table></figure>

<hr>
<h4 id="2-å®‰è£…å¿…è¦çš„-R-åŒ…"><a href="#2-å®‰è£…å¿…è¦çš„-R-åŒ…" class="headerlink" title="2. å®‰è£…å¿…è¦çš„ R åŒ…"></a><strong>2. å®‰è£…å¿…è¦çš„ R åŒ…</strong></h4><p>é¦–å…ˆï¼Œä½ éœ€è¦ç¡®ä¿å®‰è£…äº† <code>RInno</code> åŒ…ã€‚</p>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å®‰è£… RInno åŒ…</span></span><br><span class="line">install.packages<span class="punctuation">(</span><span class="string">&quot;RInno&quot;</span><span class="punctuation">)</span></span><br></pre></td></tr></table></figure>

<p>å®‰è£…å¥½åï¼ŒåŠ è½½è¯¥åŒ…ï¼š</p>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">library<span class="punctuation">(</span>RInno<span class="punctuation">)</span></span><br></pre></td></tr></table></figure>

<hr>
<h4 id="3-æ‰‹åŠ¨ä¸‹è½½å¹¶å®‰è£…-Inno-Setup"><a href="#3-æ‰‹åŠ¨ä¸‹è½½å¹¶å®‰è£…-Inno-Setup" class="headerlink" title="3. æ‰‹åŠ¨ä¸‹è½½å¹¶å®‰è£… Inno Setup"></a><strong>3. æ‰‹åŠ¨ä¸‹è½½å¹¶å®‰è£… Inno Setup</strong></h4><p>ç”±äº <code>RInno::install_inno()</code> è‡ªåŠ¨ä¸‹è½½ Inno Setup æ—¶å¯èƒ½ä¼šé‡åˆ°ç½‘ç»œé—®é¢˜ï¼Œå› æ­¤ä½ å¯ä»¥æ‰‹åŠ¨ä¸‹è½½å¹¶å®‰è£… Inno Setupã€‚</p>
<p><strong>æ­¥éª¤</strong>ï¼š</p>
<ol>
<li>è®¿é—® <a target="_blank" rel="noopener" href="https://jrsoftware.org/isdl.php">Inno Setup å®˜æ–¹ä¸‹è½½é¡µé¢</a>ï¼Œä¸‹è½½æœ€æ–°ç‰ˆæœ¬çš„ Inno Setup å®‰è£…åŒ…ã€‚</li>
<li>ä¸‹è½½åï¼Œè¿è¡Œå®‰è£…ç¨‹åºï¼Œå¹¶æŒ‰ç…§æç¤ºå®Œæˆå®‰è£…ã€‚é€šå¸¸é»˜è®¤å®‰è£…è·¯å¾„ä¸º <code>C:/Program Files (x86)/Inno Setup 6/</code>ã€‚</li>
</ol>
<hr>
<h4 id="4-é…ç½®-Inno-Setup-è·¯å¾„"><a href="#4-é…ç½®-Inno-Setup-è·¯å¾„" class="headerlink" title="4. é…ç½® Inno Setup è·¯å¾„"></a><strong>4. é…ç½® Inno Setup è·¯å¾„</strong></h4><p>åœ¨ R ä¸­è®¾ç½® Inno Setup çš„è·¯å¾„ï¼ŒæŒ‡å‘ <code>ISCC.exe</code> å¯æ‰§è¡Œæ–‡ä»¶ã€‚å‡è®¾ Inno Setup å®‰è£…åœ¨ <code>C:/Program Files (x86)/Inno Setup 6/</code>ï¼Œä½ å¯ä»¥é€šè¿‡å¦‚ä¸‹æ–¹å¼é…ç½®ï¼š</p>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">options<span class="punctuation">(</span><span class="string">&quot;RInno.setup_path&quot;</span> <span class="operator">=</span> <span class="string">&quot;C:/Program Files (x86)/Inno Setup 6/ISCC.exe&quot;</span><span class="punctuation">)</span></span><br></pre></td></tr></table></figure>

<p>å¦‚æœä½ å®‰è£…åœ¨å…¶ä»–è·¯å¾„ï¼Œè¯·æ ¹æ®å®é™…å®‰è£…è·¯å¾„ä¿®æ”¹ã€‚</p>
<hr>
<h4 id="5-åˆ›å»º-Shiny-åº”ç”¨çš„å®‰è£…ç¨‹åº"><a href="#5-åˆ›å»º-Shiny-åº”ç”¨çš„å®‰è£…ç¨‹åº" class="headerlink" title="5. åˆ›å»º Shiny åº”ç”¨çš„å®‰è£…ç¨‹åº"></a><strong>5. åˆ›å»º Shiny åº”ç”¨çš„å®‰è£…ç¨‹åº</strong></h4><p>æ¥ä¸‹æ¥ï¼Œä½¿ç”¨ <code>RInno::create_app()</code> å‡½æ•°æ¥ç”Ÿæˆå®‰è£…åŒ…ã€‚ä½ éœ€è¦æä¾› Shiny åº”ç”¨çš„æ–‡ä»¶å¤¹è·¯å¾„ï¼ˆæ³¨æ„è·¯å¾„ä¸­çš„åæ–œæ é—®é¢˜ï¼‰ã€‚ä¾‹å¦‚ï¼Œå¦‚æœåº”ç”¨ä½äº <code>E:/I/å·¥ä½œ/elec/Rinno</code>ï¼š</p>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">RInno<span class="operator">::</span>create_app<span class="punctuation">(</span>app_dir <span class="operator">=</span> <span class="string">&quot;E:/I/å·¥ä½œ/elec/Rinno&quot;</span><span class="punctuation">)</span></span><br></pre></td></tr></table></figure>

<p>è¿™ä¸ªæ­¥éª¤ä¼šåˆ›å»ºä¸€ä¸ªé¡¹ç›®æ¨¡æ¿ï¼Œå¹¶ç”Ÿæˆä¸€ä¸ªå®‰è£…ç¨‹åºçš„é…ç½®æ–‡ä»¶ï¼ˆ<code>.iss</code>ï¼‰å’Œå…¶ä»–éœ€è¦çš„æ–‡ä»¶ï¼Œé€šå¸¸ä¼šåœ¨é¡¹ç›®çš„ <code>build</code> æ–‡ä»¶å¤¹ä¸­ç”Ÿæˆã€‚</p>
<hr>
<h4 id="6-ç¼–è¯‘å®‰è£…åŒ…"><a href="#6-ç¼–è¯‘å®‰è£…åŒ…" class="headerlink" title="6. ç¼–è¯‘å®‰è£…åŒ…"></a><strong>6. ç¼–è¯‘å®‰è£…åŒ…</strong></h4><p>ä¸€æ—¦ <code>create_app()</code> è¿è¡Œå®Œæ¯•ï¼Œ<code>RInno</code> ä¼šåœ¨ä½ çš„åº”ç”¨æ–‡ä»¶å¤¹ä¸­åˆ›å»º <code>.iss</code> æ–‡ä»¶ï¼Œè¿™ä¸ªæ–‡ä»¶ç”¨äºç”Ÿæˆæœ€ç»ˆçš„å®‰è£…åŒ…ã€‚</p>
<ol>
<li>æ‰“å¼€ Inno Setup ç¨‹åºï¼ˆä½ å¯ä»¥åœ¨ Windows å¼€å§‹èœå•ä¸­æ‰¾åˆ°å®ƒï¼‰ã€‚</li>
<li>åœ¨ Inno Setup ä¸­ï¼Œé€‰æ‹©â€œæ‰“å¼€æ–‡ä»¶ï¼ˆOpen fileï¼‰â€é€‰é¡¹ï¼Œå¹¶æ‰¾åˆ° <code>.iss</code> æ–‡ä»¶ï¼Œè¯¥æ–‡ä»¶é€šå¸¸ä½äºä½ åº”ç”¨ç›®å½•çš„ <code>build</code> æ–‡ä»¶å¤¹ä¸­ï¼Œä¾‹å¦‚ï¼š<code>E:/I/å·¥ä½œ/elec/Rinno/build/app.iss</code>ã€‚</li>
<li>æ‰“å¼€ <code>.iss</code> æ–‡ä»¶åï¼Œç‚¹å‡»â€œç¼–è¯‘ï¼ˆCompileï¼‰â€æŒ‰é’®ï¼Œè¿™å°†ç”Ÿæˆæœ€ç»ˆçš„å®‰è£…ç¨‹åºï¼ˆ<code>.exe</code> æ–‡ä»¶ï¼‰ã€‚</li>
</ol>
<hr>
<h4 id="7-æµ‹è¯•å®‰è£…ç¨‹åº"><a href="#7-æµ‹è¯•å®‰è£…ç¨‹åº" class="headerlink" title="7. æµ‹è¯•å®‰è£…ç¨‹åº"></a><strong>7. æµ‹è¯•å®‰è£…ç¨‹åº</strong></h4><p>ç¼–è¯‘å®Œæˆåï¼ŒInno Setup ä¼šåœ¨è¾“å‡ºæ–‡ä»¶å¤¹ä¸­ç”Ÿæˆ <code>.exe</code> å®‰è£…ç¨‹åºã€‚ä½ å¯ä»¥æ‰¾åˆ°è¯¥æ–‡ä»¶å¹¶åœ¨ Windows ä¸­è¿è¡Œï¼ŒæŒ‰ç…§å®‰è£…å‘å¯¼å°† Shiny åº”ç”¨å®‰è£…åˆ°ç›®æ ‡ç³»ç»Ÿä¸­ã€‚</p>
<h3 id="æ€»ç»“-3"><a href="#æ€»ç»“-3" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p>é€šè¿‡ä»¥ä¸‹å‡ æ­¥ï¼Œä½ å·²ç»æˆåŠŸä½¿ç”¨ <code>RInno</code> æ‰“åŒ…äº† Shiny åº”ç”¨ä¸º <code>.exe</code> æ–‡ä»¶ï¼š</p>
<ol>
<li>å‡†å¤‡å¥½ Shiny åº”ç”¨ã€‚</li>
<li>å®‰è£…å¹¶é…ç½® <code>RInno</code>ã€‚</li>
<li>æ‰‹åŠ¨ä¸‹è½½å®‰è£… Inno Setup å¹¶é…ç½®å…¶è·¯å¾„ã€‚</li>
<li>ä½¿ç”¨ <code>RInno::create_app()</code> ç”Ÿæˆå®‰è£…åŒ…é…ç½®æ–‡ä»¶ã€‚</li>
<li>ä½¿ç”¨ Inno Setup ç¼–è¯‘ <code>.iss</code> æ–‡ä»¶ç”Ÿæˆæœ€ç»ˆçš„å®‰è£…ç¨‹åºã€‚</li>
</ol>
<p>å¦‚æœä½ é‡åˆ°å…¶ä»–é—®é¢˜æˆ–æœ‰è¿›ä¸€æ­¥çš„éœ€æ±‚ï¼Œå¯ä»¥éšæ—¶ç»§ç»­è®¨è®ºã€‚</p>
<p>è¯·å‚è€ƒè¿™ä¸ªtkinterè„šæœ¬ã€‚</p>
<p>æˆ‘æƒ³ä¿®æ”¹æˆæ‰§è¡Œè¿™ä¸ªä»£ç ;</p>
<p>è¾“å…¥ï¼š<br>æ‰§è¡Œï¼š<br>è¾“å‡ºï¼š</p>
<p>è¯·ç»™æˆ‘æ­£ç¡®çš„ä»£ç ï¼š</p>
<p>ç²¾ç®€ä¸€ä¸‹ï¼Œå¦‚æœæƒ³åšä¸ªæ’ä»¶ï¼Œè¾“å…¥æ—¶æ‹–åˆ°æ–‡ä»¶æ‹–åˆ°çš„ï¼Œè®¾ç½®è¾“å‡ºç»“æœçš„æ–‡ä»¶ï¼Œç„¶åç‚¹å‡»æ‰§è¡Œï¼Œå¯ä»¥æ‰§è¡Œï¼Œè¦æ€ä¹ˆæè¿°ï¼Œå…ˆä¸è¦ç»™ä»£ç ï¼Œè¯­è¨€æè¿°</p>
<p>ç„¶åå‚è€ƒä¸‹é¢é‚£ä¸ªä»£ç ï¼Œè¾“å‡ºè¾“å‡ºä¿®æ”¹æˆä¸Šé¢çš„ï¼Œæ­£ç¡®çš„ä»£ç æ—¶ä»€ä¹ˆ</p>
<p>lncRNAæ‰“åŒ…</p>
<p>æ–‡ä»¶ä¿¡æ¯ï¼šE:\I\å·¥ä½œ\lncRNAæŒ–æ˜(7.2) .pptx</p>
<p>E:\I\å·¥ä½œ\8. éç¼–ç RNAä¸è¡¨è§‚é—ä¼ å­¦\LncRNAä»£ç çš„sh\sh\sh   ä»£ç </p>
<p>éœ€è¦æ‰¾åˆ°vmwareçš„å¤–æ˜¾å­å’Œå†…å«å­çš„pyè„šæœ¬ã€‚</p>
<p>å‰é¢çš„æ‰“å¼€stringtie</p>
<h1 id="æ„å»º-StringTie-å‘½ä»¤"><a href="#æ„å»º-StringTie-å‘½ä»¤" class="headerlink" title="æ„å»º StringTie å‘½ä»¤"></a>æ„å»º StringTie å‘½ä»¤</h1><pre><code>        command = [
            stringtie_path, bam_file, &quot;-G&quot;, gtf_file, &quot;-o&quot;, output_gtf, 
            &quot;-A&quot;, output_tab, &quot;-B&quot;, &quot;-e&quot;, &quot;-p&quot;, threads
        ]

        # æ‰“å°å¹¶æ‰§è¡Œå‘½ä»¤
        print(f&quot;æ‰§è¡Œå‘½ä»¤: &#123;&#39; &#39;.join(command)&#125;&quot;)
        result = subprocess.run(command, shell=True, stdout=subprocess.PIPE, stderr=subprocess.PIPE, encoding=&#39;utf-8&#39;, errors=&#39;ignore&#39;)
</code></pre>
<p>linuxé‡Œæ‰§è¡Œçš„</p>
<p>#!/bin/bash</p>
<h1 id="æ‚¨æä¾›çš„SRR-IDsåˆ—è¡¨"><a href="#æ‚¨æä¾›çš„SRR-IDsåˆ—è¡¨" class="headerlink" title="æ‚¨æä¾›çš„SRR IDsåˆ—è¡¨"></a>æ‚¨æä¾›çš„SRR IDsåˆ—è¡¨</h1><p>declare -a SRR_ids=(<br>â€œSRR10210158â€ â€œSRR10210159â€ â€œSRR10210160â€<br>)</p>
<h1 id="åˆå¹¶GTFæ–‡ä»¶çš„è·¯å¾„"><a href="#åˆå¹¶GTFæ–‡ä»¶çš„è·¯å¾„" class="headerlink" title="åˆå¹¶GTFæ–‡ä»¶çš„è·¯å¾„"></a>åˆå¹¶GTFæ–‡ä»¶çš„è·¯å¾„</h1><p>MERGED_GTF=â€/home/data1/renminpeng/RNA_seq/mergelist.gtfâ€</p>
<h1 id="è¾“å…¥BAMæ–‡ä»¶å¤¹çš„è·¯å¾„"><a href="#è¾“å…¥BAMæ–‡ä»¶å¤¹çš„è·¯å¾„" class="headerlink" title="è¾“å…¥BAMæ–‡ä»¶å¤¹çš„è·¯å¾„"></a>è¾“å…¥BAMæ–‡ä»¶å¤¹çš„è·¯å¾„</h1><p>BAM_DIR=â€/home/data1/renminpeng/RNA_seq/short_bamâ€</p>
<h1 id="åŸºç¡€è¾“å‡ºæ–‡ä»¶å¤¹è·¯å¾„"><a href="#åŸºç¡€è¾“å‡ºæ–‡ä»¶å¤¹è·¯å¾„" class="headerlink" title="åŸºç¡€è¾“å‡ºæ–‡ä»¶å¤¹è·¯å¾„"></a>åŸºç¡€è¾“å‡ºæ–‡ä»¶å¤¹è·¯å¾„</h1><p>BASE_OUT_DIR=â€/home/data1/renminpeng/RNA_seq/_e_gtfâ€</p>
<h1 id="å¾ªç¯å¤„ç†æ¯ä¸€ä¸ªSRR-ID"><a href="#å¾ªç¯å¤„ç†æ¯ä¸€ä¸ªSRR-ID" class="headerlink" title="å¾ªç¯å¤„ç†æ¯ä¸€ä¸ªSRR ID"></a>å¾ªç¯å¤„ç†æ¯ä¸€ä¸ªSRR ID</h1><p>for srr in â€œ${SRR_ids[@]}â€<br>do<br>    # ä¸ºæ¯ä¸ªSRR_idåˆ›å»ºä¸€ä¸ªå•ç‹¬çš„è¾“å‡ºæ–‡ä»¶å¤¹<br>    OUT_DIR=â€${BASE_OUT_DIR}/${srr}â€<br>    # ç¡®ä¿è¾“å‡ºç›®å½•å­˜åœ¨<br>    mkdir -p â€œ${OUT_DIR}â€</p>
<pre><code>echo &quot;Processing $&#123;srr&#125; with StringTie...&quot;
stringtie -e -B -p 16 -G &quot;$&#123;MERGED_GTF&#125;&quot; -o &quot;$&#123;OUT_DIR&#125;/$&#123;srr&#125;.gtf&quot; &quot;$&#123;BAM_DIR&#125;/$&#123;srr&#125;.short.bam&quot;
</code></pre>
<p>done</p>
<p>echo â€œStringTie processing done for all samples!â€</p>
<p> command = [<br>                stringtie_path, bam_file, â€œ-Gâ€, gtf_file, â€œ-oâ€, output_gtf,<br>                â€œ-Aâ€, output_tab, â€œ-Bâ€, â€œ-pâ€, threads<br>            ]</p>
<p>ä¸è¦-eï¼Œç­›é€‰æ–°çš„è½¬å½•æœ¬ã€‚</p>
<p>æ ¹æ®ä½ çš„è¦æ±‚ï¼Œæˆ‘å°†æä¾›ä¸€ä¸ª <strong>å®Œæ•´ä¸”å¯ç›´æ¥ä½¿ç”¨çš„ä»£ç </strong>ï¼Œé€‚é…ä½ çš„ç›®å½•ç»“æ„ï¼Œå¹¶åœ¨ä»£ç ä¸­å¤„ç†æ‰€æœ‰è·¯å¾„é—®é¢˜ï¼Œç¡®ä¿æ‰“åŒ…åèƒ½æ­£å¸¸è¿è¡Œã€‚</p>
<hr>
<h3 id="1-main-pyï¼ˆé€‚é…-PyInstaller-æ‰“åŒ…ï¼‰"><a href="#1-main-pyï¼ˆé€‚é…-PyInstaller-æ‰“åŒ…ï¼‰" class="headerlink" title="1. main.pyï¼ˆé€‚é… PyInstaller æ‰“åŒ…ï¼‰"></a><strong>1. <code>main.py</code>ï¼ˆé€‚é… PyInstaller æ‰“åŒ…ï¼‰</strong></h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> tkinter <span class="keyword">as</span> tk</span><br><span class="line"><span class="keyword">from</span> tkinter <span class="keyword">import</span> filedialog, messagebox</span><br><span class="line"><span class="keyword">import</span> subprocess</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"></span><br><span class="line"><span class="comment"># --- ç¡®ä¿æ‰“åŒ…æ—¶æ­£ç¡®æ‰¾åˆ°èµ„æºæ–‡ä»¶ ---</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">resource_path</span>(<span class="params">relative_path</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot; å¤„ç† PyInstaller æ‰“åŒ…åçš„è·¯å¾„é—®é¢˜ &quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">hasattr</span>(sys, <span class="string">&#x27;_MEIPASS&#x27;</span>):</span><br><span class="line">        <span class="comment"># å¦‚æœæ˜¯æ‰“åŒ…åçš„ç¯å¢ƒï¼Œè¿”å›ä¸´æ—¶è§£å‹è·¯å¾„</span></span><br><span class="line">        <span class="keyword">return</span> os.path.join(sys._MEIPASS, relative_path)</span><br><span class="line">    <span class="comment"># å¦åˆ™è¿”å›åŸå§‹è·¯å¾„</span></span><br><span class="line">    <span class="keyword">return</span> os.path.join(os.path.dirname(os.path.abspath(__file__)), relative_path)</span><br><span class="line"></span><br><span class="line"><span class="comment"># --- è¿è¡Œ PfamScan ---</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">run_pfamscan</span>():</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        <span class="comment"># 1. æ£€æŸ¥ Perl æ˜¯å¦å¯ç”¨</span></span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            subprocess.run([<span class="string">&quot;perl&quot;</span>, <span class="string">&quot;-v&quot;</span>], check=<span class="literal">True</span>, stdout=subprocess.PIPE, stderr=subprocess.PIPE)</span><br><span class="line">        <span class="keyword">except</span> Exception:</span><br><span class="line">            messagebox.showerror(<span class="string">&quot;é”™è¯¯&quot;</span>, <span class="string">&quot;æœªæ‰¾åˆ° Perl ç¯å¢ƒï¼è¯·å®‰è£… Perl å¹¶ç¡®ä¿å…¶åœ¨ PATH ä¸­ã€‚&quot;</span>)</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># 2. æ£€æŸ¥ pfam_scan.pl æ˜¯å¦å­˜åœ¨</span></span><br><span class="line">        pfam_script_path = resource_path(<span class="string">&quot;pfam_scan.pl&quot;</span>)</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> os.path.exists(pfam_script_path):</span><br><span class="line">            messagebox.showerror(<span class="string">&quot;é”™è¯¯&quot;</span>, <span class="string">f&quot;pfam_scan.pl æœªæ‰¾åˆ°ï¼è·¯å¾„: <span class="subst">&#123;pfam_script_path&#125;</span>&quot;</span>)</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># 3. æ£€æŸ¥ HMM æ•°æ®åº“æ˜¯å¦å­˜åœ¨</span></span><br><span class="line">        hmm_dir = resource_path(<span class="string">&quot;hmm&quot;</span>)</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> os.path.exists(hmm_dir) <span class="keyword">or</span> <span class="keyword">not</span> os.path.exists(os.path.join(hmm_dir, <span class="string">&quot;Pfam-A.hmm&quot;</span>)):</span><br><span class="line">            messagebox.showerror(<span class="string">&quot;é”™è¯¯&quot;</span>, <span class="string">&quot;HMM æ•°æ®åº“ï¼ˆhmm/ ç›®å½•ï¼‰æœªæ‰¾åˆ°ï¼&quot;</span>)</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># 4. è·å–è¾“å…¥æ–‡ä»¶</span></span><br><span class="line">        fasta_path = filedialog.askopenfilename(title=<span class="string">&quot;é€‰æ‹© FASTA æ–‡ä»¶&quot;</span>, filetypes=[(<span class="string">&quot;FASTA&quot;</span>, <span class="string">&quot;*.fa *.fasta&quot;</span>)])</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> fasta_path:</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># 5. é€‰æ‹©è¾“å‡ºä½ç½®</span></span><br><span class="line">        output_path = filedialog.asksaveasfilename(title=<span class="string">&quot;ä¿å­˜ç»“æœ&quot;</span>, defaultextension=<span class="string">&quot;.txt&quot;</span>)</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> output_path:</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># 6. è·å–çº¿ç¨‹æ•°ï¼ˆé»˜è®¤ 4ï¼‰</span></span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            cpu = <span class="built_in">int</span>(cpu_var.get())</span><br><span class="line">        <span class="keyword">except</span> ValueError:</span><br><span class="line">            cpu = <span class="number">4</span>  <span class="comment"># é»˜è®¤å€¼</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># 7. æ‰§è¡Œå‘½ä»¤</span></span><br><span class="line">        cmd = [</span><br><span class="line">            <span class="string">&quot;perl&quot;</span>,</span><br><span class="line">            pfam_script_path,</span><br><span class="line">            <span class="string">&quot;-fasta&quot;</span>, fasta_path,</span><br><span class="line">            <span class="string">&quot;-dir&quot;</span>, hmm_dir,</span><br><span class="line">            <span class="string">&quot;-out&quot;</span>, output_path,</span><br><span class="line">            <span class="string">&quot;-cpu&quot;</span>, <span class="built_in">str</span>(cpu)</span><br><span class="line">        ]</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 8. æ˜¾ç¤ºè¿›åº¦çª—å£</span></span><br><span class="line">        progress_win = tk.Toplevel(root)</span><br><span class="line">        progress_win.title(<span class="string">&quot;æ­£åœ¨è¿è¡Œ PfamScan...&quot;</span>)</span><br><span class="line">        tk.Label(progress_win, text=<span class="string">&quot;å¤„ç†ä¸­ï¼Œè¯·ç¨å€™...&quot;</span>).pack()</span><br><span class="line">        progress_win.update()</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 9. æ•è·è¾“å‡º</span></span><br><span class="line">        process = subprocess.Popen(cmd, stdout=subprocess.PIPE, stderr=subprocess.PIPE)</span><br><span class="line">        stdout, stderr = process.communicate()</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 10. æ˜¾ç¤ºæ—¥å¿—</span></span><br><span class="line">        log_win = tk.Toplevel(root)</span><br><span class="line">        log_win.title(<span class="string">&quot;è¿è¡Œæ—¥å¿—&quot;</span>)</span><br><span class="line">        tk.Label(log_win, text=<span class="string">f&quot;å‘½ä»¤: <span class="subst">&#123;<span class="string">&#x27; &#x27;</span>.join(cmd)&#125;</span>\n\nè¾“å‡º:&quot;</span>).pack()</span><br><span class="line">        text = tk.Text(log_win)</span><br><span class="line">        text.pack()</span><br><span class="line">        text.insert(tk.END, stdout.decode(<span class="string">&quot;utf-8&quot;</span>, errors=<span class="string">&quot;ignore&quot;</span>))</span><br><span class="line">        text.insert(tk.END, stderr.decode(<span class="string">&quot;utf-8&quot;</span>, errors=<span class="string">&quot;ignore&quot;</span>))</span><br><span class="line"></span><br><span class="line">        messagebox.showinfo(<span class="string">&quot;å®Œæˆ&quot;</span>, <span class="string">f&quot;ç»“æœå·²ä¿å­˜è‡³ <span class="subst">&#123;output_path&#125;</span>&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">        messagebox.showerror(<span class="string">&quot;é”™è¯¯&quot;</span>, <span class="string">f&quot;è¿è¡Œå¤±è´¥:\n<span class="subst">&#123;<span class="built_in">str</span>(e)&#125;</span>&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># --- GUI ä¸»ç•Œé¢ ---</span></span><br><span class="line">root = tk.Tk()</span><br><span class="line">root.title(<span class="string">&quot;PfamScan å·¥å…·&quot;</span>)</span><br><span class="line">root.geometry(<span class="string">&quot;500x200&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># çº¿ç¨‹æ•°è¾“å…¥æ¡†</span></span><br><span class="line">tk.Label(root, text=<span class="string">&quot;CPU çº¿ç¨‹æ•°:&quot;</span>).pack()</span><br><span class="line">cpu_var = tk.StringVar(value=<span class="string">&quot;4&quot;</span>)</span><br><span class="line">tk.Entry(root, textvariable=cpu_var).pack()</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¿è¡ŒæŒ‰é’®</span></span><br><span class="line">tk.Button(root, text=<span class="string">&quot;è¿è¡Œ PfamScan&quot;</span>, command=run_pfamscan, height=<span class="number">2</span>, width=<span class="number">20</span>).pack(pady=<span class="number">20</span>)</span><br><span class="line"></span><br><span class="line">root.mainloop()</span><br></pre></td></tr></table></figure>

<hr>
<h3 id="2-æ‰“åŒ…æ–¹å¼"><a href="#2-æ‰“åŒ…æ–¹å¼" class="headerlink" title="2. æ‰“åŒ…æ–¹å¼"></a><strong>2. æ‰“åŒ…æ–¹å¼</strong></h3><h4 id="PyInstaller-å‘½ä»¤"><a href="#PyInstaller-å‘½ä»¤" class="headerlink" title="PyInstaller å‘½ä»¤"></a><strong>PyInstaller å‘½ä»¤</strong></h4><p>è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œç¡®ä¿æ­£ç¡®æ‰“åŒ… **HMMERã€Pfamæ•°æ®åº“ å’Œ <code>pfam_scan.pl</code>**ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pyinstaller --onefile --add-data <span class="string">&quot;hmmer_RMP/src/*;hmmer_RMP/src&quot;</span> --add-data <span class="string">&quot;pfam_scan.pl;.&quot;</span> --add-data <span class="string">&quot;hmm/*;hmm&quot;</span> main.py</span><br></pre></td></tr></table></figure>
<ul>
<li>ç¡®ä¿ä½ çš„ <code>hmmer_RMP/src/</code> åŒ…å« <code>hmmscan.exe</code> å’Œæ‰€æœ‰ä¾èµ–æ–‡ä»¶ï¼ˆå¦‚ <code>.h3m</code>, <code>.h3i</code> ç­‰ï¼‰ã€‚</li>
<li><code>hmm/</code> ç›®å½•ä¸‹åº”åŒ…å« <code>Pfam-A.hmm</code> å’Œ <code>.dat</code> æ–‡ä»¶ï¼ˆPfamæ•°æ®åº“ï¼‰ã€‚</li>
</ul>
<hr>
<h3 id="3-ç›®å½•ç»“æ„ï¼ˆä¸¥æ ¼æŒ‰ä½ çš„è¦æ±‚ï¼‰"><a href="#3-ç›®å½•ç»“æ„ï¼ˆä¸¥æ ¼æŒ‰ä½ çš„è¦æ±‚ï¼‰" class="headerlink" title="3. ç›®å½•ç»“æ„ï¼ˆä¸¥æ ¼æŒ‰ä½ çš„è¦æ±‚ï¼‰"></a><strong>3. ç›®å½•ç»“æ„ï¼ˆä¸¥æ ¼æŒ‰ä½ çš„è¦æ±‚ï¼‰</strong></h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">your_project/</span><br><span class="line">â”‚â”€â”€ hmmer_RMP/          # HMMER äºŒè¿›åˆ¶æ–‡ä»¶</span><br><span class="line">â”‚   â”‚â”€â”€ src/</span><br><span class="line">â”‚   â”‚   â”‚â”€â”€ hmmscan.exe</span><br><span class="line">â”‚   â”‚   â”‚â”€â”€ (å…¶ä»– HMMER ä¾èµ–æ–‡ä»¶)</span><br><span class="line">â”‚</span><br><span class="line">â”‚â”€â”€ pfam_scan.pl        # Perl è„šæœ¬</span><br><span class="line">â”‚â”€â”€ hmm/                # Pfam æ•°æ®åº“</span><br><span class="line">â”‚   â”‚â”€â”€ Pfam-A.hmm</span><br><span class="line">â”‚   â”‚â”€â”€ Pfam-A.hmm.dat</span><br><span class="line">â”‚   â”‚â”€â”€ ...</span><br><span class="line">â”‚</span><br><span class="line">â”‚â”€â”€ main.py             # ä¸»ç¨‹åº</span><br></pre></td></tr></table></figure>

<hr>
<h3 id="4-å…³é”®è¯´æ˜"><a href="#4-å…³é”®è¯´æ˜" class="headerlink" title="4. å…³é”®è¯´æ˜"></a><strong>4. å…³é”®è¯´æ˜</strong></h3><ol>
<li><p><strong>GUI åŠŸèƒ½</strong></p>
<ul>
<li>ç”¨æˆ·é€‰æ‹©è¾“å…¥ <code>.fa/.fasta</code> æ–‡ä»¶ã€‚</li>
<li>è‡ªå®šä¹‰ CPU çº¿ç¨‹æ•°ï¼ˆé»˜è®¤ 4ï¼‰ã€‚</li>
<li>é€‰æ‹©è¾“å‡ºæ–‡ä»¶è·¯å¾„ã€‚</li>
<li>æ˜¾ç¤ºè¿è¡Œæ—¥å¿—ã€‚</li>
</ul>
</li>
<li><p><strong>PyInstaller é€‚é…</strong></p>
<ul>
<li><code>resource_path()</code> å‡½æ•°ç¡®ä¿æ‰“åŒ…åèƒ½æ­£ç¡®æ‰¾åˆ°æ–‡ä»¶ã€‚</li>
<li>æ‰“åŒ…åçš„ EXE ä¼šä¸´æ—¶è§£å‹ <code>hmmer_RMP/</code> å’Œ <code>hmm/</code> åˆ°è¿è¡Œç›®å½•ã€‚</li>
</ul>
</li>
<li><p><strong>è¿è¡Œæ—¶ä¾èµ–</strong></p>
<ul>
<li>ç”¨æˆ·å¿…é¡»å®‰è£… <strong>Perl</strong>ï¼ˆå¦åˆ™ä¼šæŠ¥é”™æç¤ºï¼‰ã€‚</li>
<li>Perl ç¯å¢ƒéœ€åŒ…å« <code>pfam_scan.pl</code> æ‰€éœ€çš„æ¨¡å—ï¼ˆå¦‚ <code>Bio::Pfam</code>ï¼‰ã€‚</li>
</ul>
</li>
</ol>
<hr>
<h3 id="5-æµ‹è¯•éªŒè¯"><a href="#5-æµ‹è¯•éªŒè¯" class="headerlink" title="5. æµ‹è¯•éªŒè¯"></a><strong>5. æµ‹è¯•éªŒè¯</strong></h3><h4 id="æœªæ‰“åŒ…æ—¶"><a href="#æœªæ‰“åŒ…æ—¶" class="headerlink" title="æœªæ‰“åŒ…æ—¶"></a><strong>æœªæ‰“åŒ…æ—¶</strong></h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python main.py</span><br></pre></td></tr></table></figure>
<ol>
<li>ç¡®ä¿ Perl å·²å®‰è£… (<code>perl -v</code> èƒ½è¿è¡Œ)ã€‚</li>
<li><code>main.py</code> åº”ä¸ <code>pfam_scan.pl</code>ã€<code>hmm/</code>ã€<code>hmmer_RMP/</code> åœ¨åŒä¸€ç›®å½•ã€‚</li>
</ol>
<h4 id="æ‰“åŒ…å"><a href="#æ‰“åŒ…å" class="headerlink" title="æ‰“åŒ…å"></a><strong>æ‰“åŒ…å</strong></h4><ol>
<li>åŒå‡» <code>dist/main.exe</code> è¿è¡Œã€‚</li>
<li>è‡ªåŠ¨è§£å‹ <code>hmmer_RMP</code> å’Œ <code>hmm</code> åˆ°ä¸´æ—¶ç›®å½•ã€‚</li>
</ol>
<hr>
<h3 id="6-å·²çŸ¥é—®é¢˜åŠè§£å†³æ–¹æ¡ˆ"><a href="#6-å·²çŸ¥é—®é¢˜åŠè§£å†³æ–¹æ¡ˆ" class="headerlink" title="6. å·²çŸ¥é—®é¢˜åŠè§£å†³æ–¹æ¡ˆ"></a><strong>6. å·²çŸ¥é—®é¢˜åŠè§£å†³æ–¹æ¡ˆ</strong></h3><table>
<thead>
<tr>
<th>é—®é¢˜</th>
<th>åŸå› </th>
<th>è§£å†³</th>
</tr>
</thead>
<tbody><tr>
<td><code>perl not found</code></td>
<td>Perl æœªå®‰è£…</td>
<td>å®‰è£… <a target="_blank" rel="noopener" href="https://strawberryperl.com/">Strawberry Perl</a></td>
</tr>
<tr>
<td><code>Pfam-A.hmm missing</code></td>
<td>æ•°æ®åº“æœªåµŒå…¥ PyInstaller</td>
<td>æ£€æŸ¥ <code>--add-data &quot;hmm/*;hmm&quot;</code></td>
</tr>
<tr>
<td><code>hmmscan.exe not found</code></td>
<td>HMMER ä¾èµ–æœªæ‰“åŒ…</td>
<td>ç¡®è®¤ <code>hmmer_RMP/src/</code> å®Œæ•´</td>
</tr>
</tbody></table>
<hr>
<h3 id="7-æœ€ç»ˆäº¤ä»˜"><a href="#7-æœ€ç»ˆäº¤ä»˜" class="headerlink" title="7. æœ€ç»ˆäº¤ä»˜"></a><strong>7. æœ€ç»ˆäº¤ä»˜</strong></h3><ul>
<li>æ‰“åŒ…åçš„ <code>main.exe</code> + <code>hmm/</code> ç›®å½•ï¼ˆå¦‚æœç”¨æˆ·éœ€è¦æ›´æ–°æ•°æ®åº“ï¼‰ä¸€èµ·å‹ç¼©åˆ†å‘ç»™ç”¨æˆ·ã€‚</li>
<li>ç”¨æˆ·åªéœ€å®‰è£… Perlï¼Œç›´æ¥è¿è¡Œ EXE å³å¯ã€‚</li>
</ul>
<p>å¦‚æœæœ‰å…¶ä»–éœ€æ±‚ï¼ˆå¦‚åµŒå…¥ Perl è§£é‡Šå™¨ï¼‰ï¼Œè¯·å‘Šè¯‰æˆ‘ï¼Œæˆ‘å¯ä»¥è¿›ä¸€æ­¥ä¼˜åŒ–ï¼</p>
<p>å¥½çš„ï¼æˆ‘å°†åŸºäºä¹‹å‰çš„ä»£ç ä¼˜åŒ– <strong>ç•Œé¢ç¾è§‚åº¦</strong>ï¼Œå¢åŠ ç°ä»£åŒ–çš„ GUI è®¾è®¡ï¼ŒåŒæ—¶ä¿æŒåŠŸèƒ½ä¸å˜ã€‚ä»¥ä¸‹æ˜¯ä¼˜åŒ–åçš„ä»£ç ï¼Œä½¿ç”¨äº† <code>ttk</code> ä¸»é¢˜æ§ä»¶ã€æ›´å¥½çš„å¸ƒå±€ã€é…è‰²å’Œé—´è·è°ƒæ•´ã€‚</p>
<hr>
<h3 id="1-ä¼˜åŒ–åçš„ä»£ç ï¼ˆç¾è§‚ç‰ˆï¼‰"><a href="#1-ä¼˜åŒ–åçš„ä»£ç ï¼ˆç¾è§‚ç‰ˆï¼‰" class="headerlink" title="1. ä¼˜åŒ–åçš„ä»£ç ï¼ˆç¾è§‚ç‰ˆï¼‰"></a><strong>1. ä¼˜åŒ–åçš„ä»£ç ï¼ˆç¾è§‚ç‰ˆï¼‰</strong></h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> tkinter <span class="keyword">as</span> tk</span><br><span class="line"><span class="keyword">from</span> tkinter <span class="keyword">import</span> ttk, filedialog, messagebox</span><br><span class="line"><span class="keyword">import</span> subprocess</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"></span><br><span class="line"><span class="comment"># --- èµ„æºè·¯å¾„å¤„ç† ---</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">resource_path</span>(<span class="params">relative_path</span>):</span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">hasattr</span>(sys, <span class="string">&#x27;_MEIPASS&#x27;</span>):</span><br><span class="line">        <span class="keyword">return</span> os.path.join(sys._MEIPASS, relative_path)</span><br><span class="line">    <span class="keyword">return</span> os.path.join(os.path.dirname(os.path.abspath(__file__)), relative_path)</span><br><span class="line"></span><br><span class="line"><span class="comment"># --- è¿è¡Œ PfamScan ---</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">run_pfamscan</span>():</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        <span class="comment"># æ£€æŸ¥ Perl</span></span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            subprocess.run([<span class="string">&quot;perl&quot;</span>, <span class="string">&quot;-v&quot;</span>], check=<span class="literal">True</span>, stdout=subprocess.PIPE, stderr=subprocess.PIPE)</span><br><span class="line">        <span class="keyword">except</span> Exception:</span><br><span class="line">            messagebox.showerror(<span class="string">&quot;é”™è¯¯&quot;</span>, <span class="string">&quot;æœªæ£€æµ‹åˆ° Perlï¼è¯·å®‰è£… Perl å¹¶ç¡®ä¿å…¶åœ¨ç³»ç»Ÿ PATH ä¸­ã€‚&quot;</span>)</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># æ£€æŸ¥è„šæœ¬å’Œæ•°æ®åº“</span></span><br><span class="line">        pfam_script_path = resource_path(<span class="string">&quot;pfam_scan.pl&quot;</span>)</span><br><span class="line">        hmm_dir = resource_path(<span class="string">&quot;hmm&quot;</span>)</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> <span class="built_in">all</span>([</span><br><span class="line">            os.path.exists(pfam_script_path),</span><br><span class="line">            os.path.exists(hmm_dir),</span><br><span class="line">            os.path.exists(os.path.join(hmm_dir, <span class="string">&quot;Pfam-A.hmm&quot;</span>))</span><br><span class="line">        ]):</span><br><span class="line">            messagebox.showerror(<span class="string">&quot;é”™è¯¯&quot;</span>, <span class="string">&quot;å…³é”®æ–‡ä»¶ç¼ºå¤±ï¼è¯·æ£€æŸ¥:\n- pfam_scan.pl\n- hmm/Pfam-A.hmm&quot;</span>)</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># è·å–è¾“å…¥æ–‡ä»¶</span></span><br><span class="line">        fasta_path = filedialog.askopenfilename(</span><br><span class="line">            title=<span class="string">&quot;é€‰æ‹© FASTA æ–‡ä»¶&quot;</span>,</span><br><span class="line">            filetypes=[(<span class="string">&quot;FASTA æ–‡ä»¶&quot;</span>, <span class="string">&quot;*.fa *.fasta&quot;</span>), (<span class="string">&quot;æ‰€æœ‰æ–‡ä»¶&quot;</span>, <span class="string">&quot;*.*&quot;</span>)]</span><br><span class="line">        )</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> fasta_path:</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># é€‰æ‹©è¾“å‡ºæ–‡ä»¶</span></span><br><span class="line">        output_path = filedialog.asksaveasfilename(</span><br><span class="line">            title=<span class="string">&quot;ä¿å­˜ç»“æœ&quot;</span>,</span><br><span class="line">            defaultextension=<span class="string">&quot;.txt&quot;</span>,</span><br><span class="line">            filetypes=[(<span class="string">&quot;æ–‡æœ¬æ–‡ä»¶&quot;</span>, <span class="string">&quot;*.txt&quot;</span>), (<span class="string">&quot;æ‰€æœ‰æ–‡ä»¶&quot;</span>, <span class="string">&quot;*.*&quot;</span>)]</span><br><span class="line">        )</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> output_path:</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># è·å–çº¿ç¨‹æ•°ï¼ˆé»˜è®¤ 4ï¼‰</span></span><br><span class="line">        cpu = cpu_var.get() <span class="keyword">or</span> <span class="string">&quot;4&quot;</span>  <span class="comment"># å¤„ç†ç©ºè¾“å…¥</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># æ‰§è¡Œå‘½ä»¤</span></span><br><span class="line">        cmd = [</span><br><span class="line">            <span class="string">&quot;perl&quot;</span>,</span><br><span class="line">            pfam_script_path,</span><br><span class="line">            <span class="string">&quot;-fasta&quot;</span>, fasta_path,</span><br><span class="line">            <span class="string">&quot;-dir&quot;</span>, hmm_dir,</span><br><span class="line">            <span class="string">&quot;-out&quot;</span>, output_path,</span><br><span class="line">            <span class="string">&quot;-cpu&quot;</span>, <span class="built_in">str</span>(cpu)</span><br><span class="line">        ]</span><br><span class="line"></span><br><span class="line">        <span class="comment"># è¿›åº¦çª—å£</span></span><br><span class="line">        progress_win = tk.Toplevel(root)</span><br><span class="line">        progress_win.title(<span class="string">&quot;å¤„ç†ä¸­...&quot;</span>)</span><br><span class="line">        progress_win.geometry(<span class="string">&quot;300x100&quot;</span>)</span><br><span class="line">        ttk.Label(progress_win, text=<span class="string">&quot;æ­£åœ¨è¿è¡Œ PfamScanï¼Œè¯·ç¨å€™...&quot;</span>).pack(pady=<span class="number">10</span>)</span><br><span class="line">        progress_bar = ttk.Progressbar(progress_win, mode=<span class="string">&quot;indeterminate&quot;</span>)</span><br><span class="line">        progress_bar.pack(fill=tk.X, padx=<span class="number">20</span>, pady=<span class="number">5</span>)</span><br><span class="line">        progress_bar.start()</span><br><span class="line">        progress_win.update()</span><br><span class="line"></span><br><span class="line">        <span class="comment"># æ•è·è¾“å‡º</span></span><br><span class="line">        process = subprocess.Popen(cmd, stdout=subprocess.PIPE, stderr=subprocess.PIPE)</span><br><span class="line">        stdout, stderr = process.communicate()</span><br><span class="line"></span><br><span class="line">        <span class="comment"># å…³é—­è¿›åº¦çª—å£</span></span><br><span class="line">        progress_win.destroy()</span><br><span class="line"></span><br><span class="line">        <span class="comment"># æ˜¾ç¤ºæ—¥å¿—</span></span><br><span class="line">        log_win = tk.Toplevel(root)</span><br><span class="line">        log_win.title(<span class="string">&quot;è¿è¡Œæ—¥å¿—&quot;</span>)</span><br><span class="line">        log_win.geometry(<span class="string">&quot;800x600&quot;</span>)</span><br><span class="line">      </span><br><span class="line">        log_frame = ttk.Frame(log_win)</span><br><span class="line">        log_frame.pack(fill=tk.BOTH, expand=<span class="literal">True</span>, padx=<span class="number">10</span>, pady=<span class="number">10</span>)</span><br><span class="line">      </span><br><span class="line">        ttk.Label(log_frame, text=<span class="string">f&quot;å‘½ä»¤: <span class="subst">&#123;<span class="string">&#x27; &#x27;</span>.join(cmd)&#125;</span>&quot;</span>, font=(<span class="string">&#x27;Arial&#x27;</span>, <span class="number">10</span>, <span class="string">&#x27;bold&#x27;</span>)).pack(anchor=tk.W)</span><br><span class="line">      </span><br><span class="line">        text = tk.Text(log_frame, wrap=tk.WORD, font=(<span class="string">&#x27;Consolas&#x27;</span>, <span class="number">10</span>))</span><br><span class="line">        scrollbar = ttk.Scrollbar(log_frame, orient=tk.VERTICAL, command=text.yview)</span><br><span class="line">        text.configure(yscrollcommand=scrollbar.<span class="built_in">set</span>)</span><br><span class="line">      </span><br><span class="line">        scrollbar.pack(side=tk.RIGHT, fill=tk.Y)</span><br><span class="line">        text.pack(fill=tk.BOTH, expand=<span class="literal">True</span>)</span><br><span class="line">      </span><br><span class="line">        text.insert(tk.END, stdout.decode(<span class="string">&quot;utf-8&quot;</span>, errors=<span class="string">&quot;ignore&quot;</span>))</span><br><span class="line">        text.insert(tk.END, stderr.decode(<span class="string">&quot;utf-8&quot;</span>, errors=<span class="string">&quot;ignore&quot;</span>))</span><br><span class="line">        text.config(state=tk.DISABLED)  <span class="comment"># ç¦æ­¢ç¼–è¾‘</span></span><br><span class="line"></span><br><span class="line">        messagebox.showinfo(<span class="string">&quot;å®Œæˆ&quot;</span>, <span class="string">f&quot;ç»“æœå·²ä¿å­˜è‡³:\n<span class="subst">&#123;output_path&#125;</span>&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">        messagebox.showerror(<span class="string">&quot;é”™è¯¯&quot;</span>, <span class="string">f&quot;è¿è¡Œå¤±è´¥:\n<span class="subst">&#123;<span class="built_in">str</span>(e)&#125;</span>&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># --- ä¸»ç•Œé¢è®¾è®¡ ---</span></span><br><span class="line">root = tk.Tk()</span><br><span class="line">root.title(<span class="string">&quot;PfamScan å·¥å…·&quot;</span>)</span><br><span class="line">root.geometry(<span class="string">&quot;600x350&quot;</span>)</span><br><span class="line">root.resizable(<span class="literal">False</span>, <span class="literal">False</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä¸»é¢˜è®¾ç½®ï¼ˆä½¿ç”¨é»˜è®¤çš„ clam æˆ– alt ä¸»é¢˜ï¼‰</span></span><br><span class="line">style = ttk.Style()</span><br><span class="line">style.theme_use(<span class="string">&quot;clam&quot;</span>)  <span class="comment"># å¯é€‰: &quot;clam&quot;, &quot;alt&quot;, &quot;default&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æ ‡é¢˜æ </span></span><br><span class="line">header_frame = ttk.Frame(root, padding=(<span class="number">20</span>, <span class="number">10</span>))</span><br><span class="line">header_frame.pack(fill=tk.X)</span><br><span class="line"></span><br><span class="line">ttk.Label(</span><br><span class="line">    header_frame,</span><br><span class="line">    text=<span class="string">&quot;PfamScan åˆ†æå·¥å…·&quot;</span>,</span><br><span class="line">    font=(<span class="string">&#x27;Arial&#x27;</span>, <span class="number">16</span>, <span class="string">&#x27;bold&#x27;</span>),</span><br><span class="line">    foreground=<span class="string">&quot;#2c3e50&quot;</span>  <span class="comment"># æ·±è“è‰²æ–‡å­—</span></span><br><span class="line">).pack()</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä¸»ä½“å†…å®¹</span></span><br><span class="line">main_frame = ttk.Frame(root, padding=(<span class="number">30</span>, <span class="number">15</span>))</span><br><span class="line">main_frame.pack(fill=tk.BOTH, expand=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¾“å…¥æ–‡ä»¶é€‰æ‹©</span></span><br><span class="line">file_frame = ttk.Frame(main_frame)</span><br><span class="line">file_frame.pack(fill=tk.X, pady=<span class="number">5</span>)</span><br><span class="line"></span><br><span class="line">ttk.Label(file_frame, text=<span class="string">&quot;1. é€‰æ‹© FASTA æ–‡ä»¶:&quot;</span>, font=(<span class="string">&#x27;Arial&#x27;</span>, <span class="number">10</span>)).pack(side=tk.LEFT, padx=(<span class="number">0</span>, <span class="number">10</span>))</span><br><span class="line">fasta_btn = ttk.Button(</span><br><span class="line">    file_frame,</span><br><span class="line">    text=<span class="string">&quot;æµè§ˆ...&quot;</span>,</span><br><span class="line">    command=<span class="keyword">lambda</span>: run_pfamscan()  <span class="comment"># å®é™…é€»è¾‘åœ¨ run_pfamscan ä¸­</span></span><br><span class="line">)</span><br><span class="line">fasta_btn.pack(side=tk.LEFT)</span><br><span class="line"></span><br><span class="line"><span class="comment"># CPU è®¾ç½®</span></span><br><span class="line">cpu_frame = ttk.Frame(main_frame)</span><br><span class="line">cpu_frame.pack(fill=tk.X, pady=<span class="number">10</span>)</span><br><span class="line"></span><br><span class="line">ttk.Label(cpu_frame, text=<span class="string">&quot;2. è®¾ç½® CPU çº¿ç¨‹æ•°:&quot;</span>, font=(<span class="string">&#x27;Arial&#x27;</span>, <span class="number">10</span>)).pack(side=tk.LEFT, padx=(<span class="number">0</span>, <span class="number">10</span>))</span><br><span class="line">cpu_var = tk.StringVar(value=<span class="string">&quot;4&quot;</span>)</span><br><span class="line">cpu_entry = ttk.Entry(cpu_frame, textvariable=cpu_var, width=<span class="number">5</span>)</span><br><span class="line">cpu_entry.pack(side=tk.LEFT)</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¿è¡ŒæŒ‰é’®</span></span><br><span class="line">run_btn = ttk.Button(</span><br><span class="line">    main_frame,</span><br><span class="line">    text=<span class="string">&quot;å¼€å§‹åˆ†æ&quot;</span>,</span><br><span class="line">    style=<span class="string">&quot;Accent.TButton&quot;</span>,  <span class="comment"># é«˜äº®æŒ‰é’®ï¼ˆéƒ¨åˆ†ä¸»é¢˜æ”¯æŒï¼‰</span></span><br><span class="line">    command=run_pfamscan</span><br><span class="line">)</span><br><span class="line">run_btn.pack(pady=<span class="number">20</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># åº•éƒ¨ä¿¡æ¯</span></span><br><span class="line">footer_frame = ttk.Frame(root, padding=(<span class="number">10</span>, <span class="number">5</span>))</span><br><span class="line">footer_frame.pack(fill=tk.X, pady=<span class="number">5</span>)</span><br><span class="line"></span><br><span class="line">ttk.Label(</span><br><span class="line">    footer_frame,</span><br><span class="line">    text=<span class="string">&quot;æ³¨æ„ï¼šè¯·ç¡®ä¿å·²å®‰è£… Perl ç¯å¢ƒ&quot;</span>,</span><br><span class="line">    font=(<span class="string">&#x27;Arial&#x27;</span>, <span class="number">9</span>),</span><br><span class="line">    foreground=<span class="string">&quot;#7f8c8d&quot;</span>  <span class="comment"># ç°è‰²æ–‡å­—</span></span><br><span class="line">).pack(side=tk.LEFT)</span><br><span class="line"></span><br><span class="line">root.mainloop()</span><br></pre></td></tr></table></figure>

<hr>
<h3 id="2-ç•Œé¢ä¼˜åŒ–äº®ç‚¹"><a href="#2-ç•Œé¢ä¼˜åŒ–äº®ç‚¹" class="headerlink" title="2. ç•Œé¢ä¼˜åŒ–äº®ç‚¹"></a><strong>2. ç•Œé¢ä¼˜åŒ–äº®ç‚¹</strong></h3><table>
<thead>
<tr>
<th>ä¼˜åŒ–ç‚¹</th>
<th>æ•ˆæœè¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td><strong>ä¸»é¢˜é£æ ¼</strong></td>
<td>ä½¿ç”¨ <code>ttk</code> çš„ <code>clam</code> ä¸»é¢˜ï¼ˆç°ä»£åŒ–æ‰å¹³é£æ ¼ï¼‰</td>
</tr>
<tr>
<td><strong>å¸ƒå±€ç»“æ„</strong></td>
<td>æ¸…æ™°çš„æ ‡é¢˜ã€è¾“å…¥åŒºã€æŒ‰é’®ã€åº•éƒ¨æç¤º</td>
</tr>
<tr>
<td><strong>äº¤äº’æç¤º</strong></td>
<td>åˆ†æ­¥å¼•å¯¼ç”¨æˆ·æ“ä½œï¼ˆâ€œ1. é€‰æ‹©æ–‡ä»¶â€¦â€ï¼‰</td>
</tr>
<tr>
<td><strong>è¿›åº¦æ¡</strong></td>
<td>è¿è¡Œä»»åŠ¡æ—¶æ˜¾ç¤ºåŠ¨æ€è¿›åº¦æ¡</td>
</tr>
<tr>
<td><strong>æ—¥å¿—çª—å£</strong></td>
<td>å¸¦æ»šåŠ¨æ¡çš„æ—¥å¿—è¾“å‡ºï¼Œä»£ç é«˜äº®å­—ä½“</td>
</tr>
<tr>
<td><strong>é”™è¯¯å¤„ç†</strong></td>
<td>å‹å¥½çš„å¼¹çª—æç¤ºï¼Œé¿å…çº¢è‰²è­¦å‘Š</td>
</tr>
</tbody></table>
<hr>
<h3 id="3-æˆªå›¾ç¤ºä¾‹ï¼ˆé¢„æœŸæ•ˆæœï¼‰"><a href="#3-æˆªå›¾ç¤ºä¾‹ï¼ˆé¢„æœŸæ•ˆæœï¼‰" class="headerlink" title="3. æˆªå›¾ç¤ºä¾‹ï¼ˆé¢„æœŸæ•ˆæœï¼‰"></a><strong>3. æˆªå›¾ç¤ºä¾‹ï¼ˆé¢„æœŸæ•ˆæœï¼‰</strong></h3><h4 id="ä¸»ç•Œé¢"><a href="#ä¸»ç•Œé¢" class="headerlink" title="ä¸»ç•Œé¢"></a><strong>ä¸»ç•Œé¢</strong></h4><p><img src="https://i.imgur.com/placeholder.png"><br><em>(å®é™…è¿è¡Œæ•ˆæœä¼šæ˜¯ç°ä»£åŒ–æ‰å¹³é£æ ¼ï¼Œç±»ä¼¼ä¸‹å›¾)</em></p>
<ul>
<li>é¡¶éƒ¨æ·±è“è‰²æ ‡é¢˜</li>
<li>åˆ†æ­¥æ“ä½œåŒºåŸŸ</li>
<li>é«˜äº®ç»¿è‰²è¿è¡ŒæŒ‰é’®</li>
</ul>
<h4 id="æ—¥å¿—çª—å£"><a href="#æ—¥å¿—çª—å£" class="headerlink" title="æ—¥å¿—çª—å£"></a><strong>æ—¥å¿—çª—å£</strong></h4><p><img src="https://i.imgur.com/placeholder2.png"></p>
<ul>
<li>å›ºå®šå®½åº¦å­—ä½“ï¼ˆ<code>Consolas</code>ï¼‰æ˜¾ç¤ºå‘½ä»¤è¾“å‡º</li>
<li>è‡ªåŠ¨æ»šåŠ¨æ¡</li>
</ul>
<hr>
<h3 id="4-å¦‚ä½•è¿›ä¸€æ­¥è‡ªå®šä¹‰ï¼Ÿ"><a href="#4-å¦‚ä½•è¿›ä¸€æ­¥è‡ªå®šä¹‰ï¼Ÿ" class="headerlink" title="4. å¦‚ä½•è¿›ä¸€æ­¥è‡ªå®šä¹‰ï¼Ÿ"></a><strong>4. å¦‚ä½•è¿›ä¸€æ­¥è‡ªå®šä¹‰ï¼Ÿ</strong></h3><ol>
<li><p><strong>æ›´æ¢ä¸»é¢˜é¢œè‰²</strong><br>ä¿®æ”¹ä»¥ä¸‹ä»£ç ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">style.configure(<span class="string">&quot;TFrame&quot;</span>, background=<span class="string">&quot;#f5f5f5&quot;</span>)  <span class="comment"># èƒŒæ™¯è‰²</span></span><br><span class="line">style.configure(<span class="string">&quot;TButton&quot;</span>, foreground=<span class="string">&quot;#ffffff&quot;</span>, background=<span class="string">&quot;#3498db&quot;</span>)  <span class="comment"># æŒ‰é’®é¢œè‰²</span></span><br></pre></td></tr></table></figure></li>
<li><p><strong>æ·»åŠ å›¾æ ‡</strong><br>åœ¨ <code>root.mainloop()</code> å‰æ·»åŠ ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    root.iconbitmap(resource_path(<span class="string">&quot;logo.ico&quot;</span>))  <span class="comment"># éœ€æä¾›å›¾æ ‡æ–‡ä»¶</span></span><br><span class="line"><span class="keyword">except</span>:</span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure></li>
<li><p><strong>è°ƒæ•´å­—ä½“</strong><br>ä¿®æ”¹æ‰€æœ‰ <code>font=(&#39;Arial&#39;, 10)</code> å‚æ•°ï¼ˆæ”¯æŒä¸­æ–‡ç”¨ <code>Microsoft YaHei</code>ï¼‰ã€‚</p>
</li>
</ol>
<hr>
<h3 id="5-é€‚é…-PyInstaller"><a href="#5-é€‚é…-PyInstaller" class="headerlink" title="5. é€‚é… PyInstaller"></a><strong>5. é€‚é… PyInstaller</strong></h3><p>æ‰“åŒ…å‘½ä»¤ä¸å˜ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pyinstaller --onefile --add-data <span class="string">&quot;hmmer_RMP/src/*;hmmer_RMP/src&quot;</span> --add-data <span class="string">&quot;pfam_scan.pl;.&quot;</span> --add-data <span class="string">&quot;hmm/*;hmm&quot;</span> main.py</span><br></pre></td></tr></table></figure>

<hr>
<p>å¦‚æœéœ€è¦æ›´å¤šè°ƒæ•´ï¼ˆå¦‚æš—é»‘æ¨¡å¼ã€åŠ¨ç”»æ•ˆæœç­‰ï¼‰ï¼Œå¯ä»¥ç»§ç»­ä¼˜åŒ–ï¼</p>
<p>E:\PfamScan&gt;â€C:\Users\aoao\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.13_qbz5n2kfra8p0\LocalCache\Local-Packages\Python313\Scripts\pyinstaller.exeâ€ â€“onefile â€“windowed â€“add-data â€œ./pfam_scan.pl;.â€ â€“add-data â€œ./hmmer_RMP;hmmer_RMPâ€ â€“add-data â€œ./hmm;hmmâ€ main2.py</p>

                
            </div>
            <hr/>

            

    <div class="reprint" id="reprint-statement">
        
            <div class="reprint__author">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-user">
                        æ–‡ç« ä½œè€…:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="/about" rel="external nofollow noreferrer">èŠ±ç²±</a>
                </span>
            </div>
            <div class="reprint__type">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-link">
                        æ–‡ç« é“¾æ¥:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="https://wplfge3.github.io/2024/10/04/%E6%89%93%E5%8C%85exe/">https://wplfge3.github.io/2024/10/04/%E6%89%93%E5%8C%85exe/</a>
                </span>
            </div>
            <div class="reprint__notice">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-copyright">
                        ç‰ˆæƒå£°æ˜:
                    </i>
                </span>
                <span class="reprint-info">
                    æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ¥å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨
                    <a href="https://creativecommons.org/licenses/by/4.0/deed.zh" rel="external nofollow noreferrer" target="_blank">CC BY 4.0</a>
                    è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜æ¥æº
                    <a href="/about" target="_blank">èŠ±ç²±</a>
                    !
                </span>
            </div>
        
    </div>

    <script async defer>
      document.addEventListener("copy", function (e) {
        let toastHTML = '<span>å¤åˆ¶æˆåŠŸï¼Œè¯·éµå¾ªæœ¬æ–‡çš„è½¬è½½è§„åˆ™</span><button class="btn-flat toast-action" onclick="navToReprintStatement()" style="font-size: smaller">æŸ¥çœ‹</a>';
        M.toast({html: toastHTML})
      });

      function navToReprintStatement() {
        $("html, body").animate({scrollTop: $("#reprint-statement").offset().top - 80}, 800);
      }
    </script>



            <div class="tag_share" style="display: block;">
                <div class="post-meta__tag-list" style="display: inline-block;">
                    
                        <div class="article-tag">
                            <span class="chip bg-color">æ— æ ‡ç­¾</span>
                        </div>
                    
                </div>
                <div class="post_share" style="zoom: 80%; width: fit-content; display: inline-block; float: right; margin: -0.15rem 0;">
                    <link rel="stylesheet" type="text/css" href="/libs/share/css/share.min.css">
<div id="article-share">

    
    <div class="social-share" data-sites="twitter,facebook,google,qq,qzone,wechat,weibo,douban,linkedin" data-wechat-qrcode-helper="<p>å¾®ä¿¡æ‰«ä¸€æ‰«å³å¯åˆ†äº«ï¼</p>"></div>
    <script src="/libs/share/js/social-share.min.js"></script>
    

    

</div>

                </div>
            </div>
            
                <div id="reward">
    <a href="#rewardModal" class="reward-link modal-trigger btn-floating btn-medium waves-effect waves-light red">èµ</a>

    <!-- Modal Structure -->
    <div id="rewardModal" class="modal">
        <div class="modal-content">
            <a class="close modal-close"><i class="fas fa-times"></i></a>
            <h4 class="reward-title">ä½ çš„èµè¯†æ˜¯æˆ‘å‰è¿›çš„åŠ¨åŠ›</h4>
            <div class="reward-content">
                <div class="reward-tabs">
                    <ul class="tabs row">
                        <li class="tab col s6 alipay-tab waves-effect waves-light"><a href="#alipay">æ”¯ä»˜å®</a></li>
                        <li class="tab col s6 wechat-tab waves-effect waves-light"><a href="#wechat">å¾® ä¿¡</a></li>
                    </ul>
                    <div id="alipay">
                        <img src="/medias/reward/alipay.jpg" class="reward-img" alt="æ”¯ä»˜å®æ‰“èµäºŒç»´ç ">
                    </div>
                    <div id="wechat">
                        <img src="/medias/reward/wechat.png" class="reward-img" alt="å¾®ä¿¡æ‰“èµäºŒç»´ç ">
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    $(function () {
        $('.tabs').tabs();
    });
</script>

            
        </div>
    </div>

    

    

    

    

    

    

    

    

    

<article id="prenext-posts" class="prev-next articles">
    <div class="row article-row">
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge left-badge text-color">
                <i class="fas fa-chevron-left"></i>&nbsp;ä¸Šä¸€ç¯‡</div>
            <div class="card">
                <a href="/2024/10/04/OPN4%E5%9F%BA%E5%9B%A0%E7%9A%84%E7%A0%94%E7%A9%B6/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/7.jpg" class="responsive-img" alt="OPN4åŸºå› çš„ç ”ç©¶">
                        
                        <span class="card-title">OPN4åŸºå› çš„ç ”ç©¶</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            
                        
                    </div>
                    <div class="publish-info">
                        <span class="publish-date">
                            <i class="far fa-clock fa-fw icon-date"></i>2024-10-04
                        </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-user fa-fw"></i>
                            èŠ±ç²±
                            
                        </span>
                    </div>
                </div>
                
            </div>
        </div>
        
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge right-badge text-color">
                ä¸‹ä¸€ç¯‡&nbsp;<i class="fas fa-chevron-right"></i>
            </div>
            <div class="card">
                <a href="/2024/10/04/%E5%86%A5%E6%83%B3/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/6.jpg" class="responsive-img" alt="å†¥æƒ³">
                        
                        <span class="card-title">å†¥æƒ³</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="far fa-clock fa-fw icon-date"></i>2024-10-04
                            </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-user fa-fw"></i>
                            èŠ±ç²±
                            
                        </span>
                    </div>
                </div>
                
            </div>
        </div>
        
    </div>
</article>

</div>



<!-- ä»£ç å—åŠŸèƒ½ä¾èµ– -->
<script type="text/javascript" src="/libs/codeBlock/codeBlockFuction.js"></script>



<!-- ä»£ç è¯­è¨€ -->

<script type="text/javascript" src="/libs/codeBlock/codeLang.js"></script>


<!-- ä»£ç å—å¤åˆ¶ -->

<script type="text/javascript" src="/libs/codeBlock/codeCopy.js"></script>


<!-- ä»£ç å—æ”¶ç¼© -->

<script type="text/javascript" src="/libs/codeBlock/codeShrink.js"></script>



    </div>
    <div id="toc-aside" class="expanded col l3 hide-on-med-and-down">
        <div class="toc-widget card" style="background-color: white;">
            <div class="toc-title"><i class="far fa-list-alt"></i>&nbsp;&nbsp;ç›®å½•</div>
            <div id="toc-content"></div>
        </div>
    </div>
</div>

<!-- TOC æ‚¬æµ®æŒ‰é’®. -->

<div id="floating-toc-btn" class="hide-on-med-and-down">
    <a class="btn-floating btn-large bg-color">
        <i class="fas fa-list-ul"></i>
    </a>
</div>


<script src="/libs/tocbot/tocbot.min.js"></script>
<script>
    $(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            collapseDepth: Number('0'),
            headingSelector: 'h2, h3, h4'
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });

        
        /* ä¿®å¤æ–‡ç« å¡ç‰‡ div çš„å®½åº¦. */
        let fixPostCardWidth = function (srcId, targetId) {
            let srcDiv = $('#' + srcId);
            if (srcDiv.length === 0) {
                return;
            }

            let w = srcDiv.width();
            if (w >= 450) {
                w = w + 21;
            } else if (w >= 350 && w < 450) {
                w = w + 18;
            } else if (w >= 300 && w < 350) {
                w = w + 16;
            } else {
                w = w + 14;
            }
            $('#' + targetId).width(w);
        };

        // åˆ‡æ¢TOCç›®å½•å±•å¼€æ”¶ç¼©çš„ç›¸å…³æ“ä½œ.
        const expandedClass = 'expanded';
        let $tocAside = $('#toc-aside');
        let $mainContent = $('#main-content');
        $('#floating-toc-btn .btn-floating').click(function () {
            if ($tocAside.hasClass(expandedClass)) {
                $tocAside.removeClass(expandedClass).hide();
                $mainContent.removeClass('l9');
            } else {
                $tocAside.addClass(expandedClass).show();
                $mainContent.addClass('l9');
            }
            fixPostCardWidth('artDetail', 'prenext-posts');
        });
        
    });
</script>

    

</main>




    <footer class="page-footer bg-color">
    
        <link rel="stylesheet" href="/libs/aplayer/APlayer.min.css">
<style>
    .aplayer .aplayer-lrc p {
        
        display: none;
        
        font-size: 12px;
        font-weight: 700;
        line-height: 16px !important;
    }

    .aplayer .aplayer-lrc p.aplayer-lrc-current {
        
        display: none;
        
        font-size: 15px;
        color: #42b983;
    }

    
    .aplayer.aplayer-fixed.aplayer-narrow .aplayer-body {
        left: -66px !important;
    }

    .aplayer.aplayer-fixed.aplayer-narrow .aplayer-body:hover {
        left: 0px !important;
    }

    
</style>
<div class="">
    
    <div class="row">
        <meting-js class="col l8 offset-l2 m10 offset-m1 s12"
                   server="tencent"
                   type="playlist"
                   id="8835905093"
                   fixed='true'
                   autoplay='false'
                   theme='#42b983'
                   loop='all'
                   order='random'
                   preload='auto'
                   volume='0.7'
                   list-folded='true'
        >
        </meting-js>
    </div>
</div>

<script src="/libs/aplayer/APlayer.min.js"></script>
<script src="/libs/aplayer/Meting.min.js"></script>

    

    <div class="container row center-align"
         style="margin-bottom: 0px !important;">
        <div class="col s12 m8 l8 copy-right">
            Copyright&nbsp;&copy;
            
                <span id="year">2023-2025</span>
            
            <a href="/about" target="_blank">èŠ±ç²±</a>
            |&nbsp;Powered by&nbsp;<a href="https://hexo.io/" target="_blank">Hexo</a>
            |&nbsp;Theme&nbsp;<a href="https://github.com/blinkfox/hexo-theme-matery" target="_blank">Matery</a>
            
            <br>
            
            
            
                
            
            
                <span id="busuanzi_container_site_pv">
                &nbsp;|&nbsp;<i class="far fa-eye"></i>&nbsp;æ€»è®¿é—®é‡:&nbsp;
                    <span id="busuanzi_value_site_pv" class="white-color"></span>
            </span>
            
            
                <span id="busuanzi_container_site_uv">
                &nbsp;|&nbsp;<i class="fas fa-users"></i>&nbsp;æ€»è®¿é—®äººæ•°:&nbsp;
                    <span id="busuanzi_value_site_uv" class="white-color"></span>
            </span>
            
            <br>

            <!-- è¿è¡Œå¤©æ•°æé†’. -->
            
            <br>
            
        </div>
        <div class="col s12 m4 l4 social-link social-statis">
    <a href="https://github.com/blinkfox" class="tooltipped" target="_blank" data-tooltip="è®¿é—®æˆ‘çš„GitHub" data-position="top" data-delay="50">
        <i class="fab fa-github"></i>
    </a>



    <a href="mailto:1181062873@qq.com" class="tooltipped" target="_blank" data-tooltip="é‚®ä»¶è”ç³»æˆ‘" data-position="top" data-delay="50">
        <i class="fas fa-envelope-open"></i>
    </a>







    <a href="tencent://AddContact/?fromId=50&fromSubId=1&subcmd=all&uin=1181062873" class="tooltipped" target="_blank" data-tooltip="QQè”ç³»æˆ‘: 1181062873" data-position="top" data-delay="50">
        <i class="fab fa-qq"></i>
    </a>







    <a href="/atom.xml" class="tooltipped" target="_blank" data-tooltip="RSS è®¢é˜…" data-position="top" data-delay="50">
        <i class="fas fa-rss"></i>
    </a>

</div>
    </div>
</footer>

<div class="progress-bar"></div>


    <!-- æœç´¢é®ç½©æ¡† -->
<div id="searchModal" class="modal">
    <div class="modal-content">
        <div class="search-header">
            <span class="title"><i class="fas fa-search"></i>&nbsp;&nbsp;æœç´¢</span>
            <input type="search" id="searchInput" name="s" placeholder="è¯·è¾“å…¥æœç´¢çš„å…³é”®å­—"
                   class="search-input">
        </div>
        <div id="searchResult"></div>
    </div>
</div>

<script type="text/javascript">
$(function () {
    var searchFunc = function (path, search_id, content_id) {
        'use strict';
        $.ajax({
            url: path,
            dataType: "xml",
            success: function (xmlResponse) {
                // get the contents from search data
                var datas = $("entry", xmlResponse).map(function () {
                    return {
                        title: $("title", this).text(),
                        content: $("content", this).text(),
                        url: $("url", this).text()
                    };
                }).get();
                var $input = document.getElementById(search_id);
                var $resultContent = document.getElementById(content_id);
                $input.addEventListener('input', function () {
                    var str = '<ul class=\"search-result-list\">';
                    var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
                    $resultContent.innerHTML = "";
                    if (this.value.trim().length <= 0) {
                        return;
                    }
                    // perform local searching
                    datas.forEach(function (data) {
                        var isMatch = true;
                        var data_title = data.title.trim().toLowerCase();
                        var data_content = data.content.trim().replace(/<[^>]+>/g, "").toLowerCase();
                        var data_url = data.url;
                        data_url = data_url.indexOf('/') === 0 ? data.url : '/' + data_url;
                        var index_title = -1;
                        var index_content = -1;
                        var first_occur = -1;
                        // only match artiles with not empty titles and contents
                        if (data_title !== '' && data_content !== '') {
                            keywords.forEach(function (keyword, i) {
                                index_title = data_title.indexOf(keyword);
                                index_content = data_content.indexOf(keyword);
                                if (index_title < 0 && index_content < 0) {
                                    isMatch = false;
                                } else {
                                    if (index_content < 0) {
                                        index_content = 0;
                                    }
                                    if (i === 0) {
                                        first_occur = index_content;
                                    }
                                }
                            });
                        }
                        // show search results
                        if (isMatch) {
                            str += "<li><a href='" + data_url + "' class='search-result-title'>" + data_title + "</a>";
                            var content = data.content.trim().replace(/<[^>]+>/g, "");
                            if (first_occur >= 0) {
                                // cut out 100 characters
                                var start = first_occur - 20;
                                var end = first_occur + 80;
                                if (start < 0) {
                                    start = 0;
                                }
                                if (start === 0) {
                                    end = 100;
                                }
                                if (end > content.length) {
                                    end = content.length;
                                }
                                var match_content = content.substr(start, end);
                                // highlight all keywords
                                keywords.forEach(function (keyword) {
                                    var regS = new RegExp(keyword, "gi");
                                    match_content = match_content.replace(regS, "<em class=\"search-keyword\">" + keyword + "</em>");
                                });

                                str += "<p class=\"search-result\">" + match_content + "...</p>"
                            }
                            str += "</li>";
                        }
                    });
                    str += "</ul>";
                    $resultContent.innerHTML = str;
                });
            }
        });
    };

    searchFunc('/search.xml', 'searchInput', 'searchResult');
});
</script>

    <!-- ç™½å¤©å’Œé»‘å¤œä¸»é¢˜ -->
<div class="stars-con">
    <div id="stars"></div>
    <div id="stars2"></div>
    <div id="stars3"></div>  
</div>

<script>
    function switchNightMode() {
        $('<div class="Cuteen_DarkSky"><div class="Cuteen_DarkPlanet"></div></div>').appendTo($('body')),
        setTimeout(function () {
            $('body').hasClass('DarkMode') 
            ? ($('body').removeClass('DarkMode'), localStorage.setItem('isDark', '0'), $('#sum-moon-icon').removeClass("fa-sun").addClass('fa-moon')) 
            : ($('body').addClass('DarkMode'), localStorage.setItem('isDark', '1'), $('#sum-moon-icon').addClass("fa-sun").removeClass('fa-moon')),
            
            setTimeout(function () {
            $('.Cuteen_DarkSky').fadeOut(1e3, function () {
                $(this).remove()
            })
            }, 2e3)
        })
    }
</script>

    <!-- å›åˆ°é¡¶éƒ¨æŒ‰é’® -->
<div id="backTop" class="top-scroll">
    <a class="btn-floating btn-large waves-effect waves-light" href="#!">
        <i class="fas fa-arrow-up"></i>
    </a>
</div>


    <script src="/libs/materialize/materialize.min.js"></script>
    <script src="/libs/masonry/masonry.pkgd.min.js"></script>
    <script src="/libs/aos/aos.js"></script>
    <script src="/libs/scrollprogress/scrollProgress.min.js"></script>
    <script src="/libs/lightGallery/js/lightgallery-all.min.js"></script>
    <script src="/js/matery.js"></script>

    

    
    
    
        
        <script type="text/javascript">
            // åªåœ¨æ¡Œé¢ç‰ˆç½‘é¡µå¯ç”¨ç‰¹æ•ˆ
            var windowWidth = $(window).width();
            if (windowWidth > 768) {
                document.write('<script type="text/javascript" src="/libs/others/sakura.js"><\/script>');
            }
        </script>
    

    <!-- é›ªèŠ±ç‰¹æ•ˆ -->
    

    <!-- é¼ æ ‡æ˜Ÿæ˜Ÿç‰¹æ•ˆ -->
    

     
        <script src="https://ssl.captcha.qq.com/TCaptcha.js"></script>
        <script src="/libs/others/TencentCaptcha.js"></script>
        <button id="TencentCaptcha" data-appid="xxxxxxxxxx" data-cbfn="callback" type="button" hidden></button>
    

    <!-- Baidu Analytics -->

    <!-- Baidu Push -->

<script>
    (function () {
        var bp = document.createElement('script');
        var curProtocol = window.location.protocol.split(':')[0];
        if (curProtocol === 'https') {
            bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
        } else {
            bp.src = 'http://push.zhanzhang.baidu.com/push.js';
        }
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(bp, s);
    })();
</script>

    
    <script src="/libs/others/clicklove.js" async="async"></script>
    
    
    <script async src="/libs/others/busuanzi.pure.mini.js"></script>
    

    

    

    <!--è…¾è®¯å…”å°å·¢-->
    
    

    

    

    
    <script src="/libs/instantpage/instantpage.js" type="module"></script>
    

<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"model":{"jsonPath":"/live2dw/assets/hibiki.model.json"},"display":{"position":"right","width":150,"height":300},"mobile":{"show":true},"react":{"opacity":0.7,"opacityDefault":0.7,"opacityOnHover":0.8},"dialog":{"enable":true,"script":["æ¬¢è¿æ¥åˆ°æˆ‘çš„åšå®¢","ä»Šå¤©çš„å¤©æ°”ä¸é”™å‘¢","æœ‰ä»€ä¹ˆæˆ‘å¯ä»¥å¸®æ‚¨çš„å—ï¼Ÿ"]},"log":false,"pluginJsPath":"lib/","pluginModelPath":"assets/","pluginRootPath":"live2dw/","tagMode":false});</script></body>

</html>
